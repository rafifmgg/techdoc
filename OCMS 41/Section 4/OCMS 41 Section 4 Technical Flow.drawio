<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/28.1.2 Chrome/138.0.7204.243 Electron/37.4.0 Safari/537.36" version="28.1.2" pages="3">
  <diagram name="4.2_Batch_Furnish_Offender" id="s5-batch-furnish-001">
    <mxGraphModel dx="1281" dy="626" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="3600" pageHeight="1300" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="bf-title" value="5.2 Batch Furnish Offender - Technical Flow" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;rounded=0;fontSize=14;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="40" y="10" width="500" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bf-swim-portal" value="Staff Portal" style="swimlane;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="20" y="50" width="3500" height="280" as="geometry" />
        </mxCell>
        <mxCell id="bf-start" value="Start" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="bf-swim-portal" vertex="1">
          <mxGeometry x="30" y="100" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bf-p1" value="OIC searches and selects multiple Notices" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bf-swim-portal" vertex="1">
          <mxGeometry x="150" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bf-p2" value="OIC clicks BATCH FURNISH" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bf-swim-portal" vertex="1">
          <mxGeometry x="290" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bf-p3" value="Call POST /staff-furnish/furnish-redirect-check" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="bf-swim-portal" vertex="1">
          <mxGeometry x="430" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bf-d1" value="All non-furnishable?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="bf-swim-portal" vertex="1">
          <mxGeometry x="570" y="80" width="100" height="90" as="geometry" />
        </mxCell>
        <mxCell id="bf-p4-err" value="Show error message" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#f8cecc;strokeColor=#b85450;" parent="bf-swim-portal" vertex="1">
          <mxGeometry x="520" y="210" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bf-d2" value="Some non-furnishable?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="bf-swim-portal" vertex="1">
          <mxGeometry x="710" y="80" width="100" height="90" as="geometry" />
        </mxCell>
        <mxCell id="bf-p5" value="Prompt: Continue with furnishable?" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#fff2cc;strokeColor=#d6b656;" parent="bf-swim-portal" vertex="1">
          <mxGeometry x="710" y="210" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bf-p6" value="Display Batch Furnish form" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bf-swim-portal" vertex="1">
          <mxGeometry x="860" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bf-p7" value="OIC enters offender details" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bf-swim-portal" vertex="1">
          <mxGeometry x="1000" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bf-p8" value="OIC clicks SUBMIT" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bf-swim-portal" vertex="1">
          <mxGeometry x="1140" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bf-p9" value="Frontend validation" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bf-swim-portal" vertex="1">
          <mxGeometry x="1280" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bf-d3" value="Valid?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="bf-swim-portal" vertex="1">
          <mxGeometry x="1420" y="85" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="bf-p10-err" value="Show validation error" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#f8cecc;strokeColor=#b85450;" parent="bf-swim-portal" vertex="1">
          <mxGeometry x="1420" y="200" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bf-p11" value="Prompt overwrite warning" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#fff2cc;strokeColor=#d6b656;" parent="bf-swim-portal" vertex="1">
          <mxGeometry x="1540" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bf-p12" value="OIC clicks CONFIRM" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bf-swim-portal" vertex="1">
          <mxGeometry x="1680" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bf-loop" value="Loop: Process each Notice" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#82b366;" parent="bf-swim-portal" vertex="1">
          <mxGeometry x="1820" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bf-p13" value="Call POST /staff-furnish/batch-furnish" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="bf-swim-portal" vertex="1">
          <mxGeometry x="1960" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bf-p14" value="Store result" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bf-swim-portal" vertex="1">
          <mxGeometry x="2100" y="90" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bf-d4" value="More notices?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="bf-swim-portal" vertex="1">
          <mxGeometry x="2220" y="85" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="bf-p15" value="Consolidate results" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bf-swim-portal" vertex="1">
          <mxGeometry x="2340" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bf-p16" value="Query latest details" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="bf-swim-portal" vertex="1">
          <mxGeometry x="2480" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bf-p17" value="Display Result Page" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#82b366;" parent="bf-swim-portal" vertex="1">
          <mxGeometry x="2620" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bf-end" value="End" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="bf-swim-portal" vertex="1">
          <mxGeometry x="2760" y="100" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bf-e1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-start" target="bf-p1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-e2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-p1" target="bf-p2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-e3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-p2" target="bf-p3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-e4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-p3" target="bf-d1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-e5" value="Yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-d1" target="bf-p4-err" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-e6" value="No" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-d1" target="bf-d2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-e7" value="Yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-d2" target="bf-p5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-e8" value="No" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-d2" target="bf-p6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-e8b" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-p5" target="bf-p6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="830" y="225" />
              <mxPoint x="830" y="125" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bf-e9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-p6" target="bf-p7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-e10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-p7" target="bf-p8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-e11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-p8" target="bf-p9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-e12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-p9" target="bf-d3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-e13" value="No" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-d3" target="bf-p10-err" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-e14" value="Yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-d3" target="bf-p11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-e15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-p11" target="bf-p12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-e16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-p12" target="bf-loop" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-e17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-loop" target="bf-p13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-e18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-p13" target="bf-p14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-e19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-p14" target="bf-d4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-e20" value="Yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-d4" target="bf-loop" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2260" y="200" />
              <mxPoint x="1870" y="200" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="bf-e21" value="No" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-d4" target="bf-p15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-e22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-p15" target="bf-p16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-e23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-p16" target="bf-p17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-e24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-portal" source="bf-p17" target="bf-end" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-swim-api" value="OCMS Admin API Intranet" style="swimlane;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="20" y="340" width="3500" height="300" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-chk1" value="Receive check request" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bf-swim-api" vertex="1">
          <mxGeometry x="430" y="40" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-chk2" value="Loop: Check each Notice" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#82b366;" parent="bf-swim-api" vertex="1">
          <mxGeometry x="430" y="120" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-chk3" value="Return furnishability result" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bf-swim-api" vertex="1">
          <mxGeometry x="430" y="200" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-f1" value="Receive furnish request" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bf-swim-api" vertex="1">
          <mxGeometry x="1960" y="30" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-f2" value="Bean validation" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bf-swim-api" vertex="1">
          <mxGeometry x="2100" y="30" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-d1" value="Valid?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="bf-swim-api" vertex="1">
          <mxGeometry x="2220" y="25" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-f3" value="Query notice" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bf-swim-api" vertex="1">
          <mxGeometry x="2320" y="30" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-d2" value="Furnishable?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="bf-swim-api" vertex="1">
          <mxGeometry x="2440" y="25" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-f4" value="Create/Update offender" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bf-swim-api" vertex="1">
          <mxGeometry x="2560" y="30" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-f5" value="Set offender_indicator=Y" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bf-swim-api" vertex="1">
          <mxGeometry x="2700" y="30" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-f6" value="Clear previous indicator" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bf-swim-api" vertex="1">
          <mxGeometry x="2840" y="30" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-f7" value="Update processing stage" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bf-swim-api" vertex="1">
          <mxGeometry x="2980" y="30" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-f8" value="Return success" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#82b366;" parent="bf-swim-api" vertex="1">
          <mxGeometry x="3120" y="30" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-err" value="Return error" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#f8cecc;strokeColor=#b85450;" parent="bf-swim-api" vertex="1">
          <mxGeometry x="2440" y="110" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-e1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-api" source="bf-api-chk1" target="bf-api-chk2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-e2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-api" source="bf-api-chk2" target="bf-api-chk3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-e3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-api" source="bf-api-f1" target="bf-api-f2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-e4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-api" source="bf-api-f2" target="bf-api-d1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-e5" value="Yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-api" source="bf-api-d1" target="bf-api-f3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-e6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-api" source="bf-api-f3" target="bf-api-d2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-e7" value="Yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-api" source="bf-api-d2" target="bf-api-f4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-e8" value="No" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-api" source="bf-api-d2" target="bf-api-err" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-e9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-api" source="bf-api-f4" target="bf-api-f5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-e10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-api" source="bf-api-f5" target="bf-api-f6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-e11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-api" source="bf-api-f6" target="bf-api-f7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-api-e12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bf-swim-api" source="bf-api-f7" target="bf-api-f8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-db1" value="&lt;b&gt;ocms_valid_offence_notice&lt;/b&gt;&lt;div&gt;SELECT notice_no, vehicle_no, last_processing_stage WHERE notice_no = ?&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" parent="bf-swim-api" vertex="1">
          <mxGeometry x="220" y="115" width="180" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bf-db2" value="&lt;b&gt;ocms_offence_notice_owner_driver&lt;/b&gt;&lt;div&gt;INSERT/UPDATE offender&lt;/div&gt;&lt;div&gt;SET offender_indicator = &#39;Y&#39;&lt;/div&gt;&lt;div&gt;cre/upd_user_id = &#39;ocmsiz_app_conn&#39;&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" parent="bf-swim-api" vertex="1">
          <mxGeometry x="2510" y="180" width="200" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bf-db3" value="&lt;b&gt;ocms_offence_notice_owner_driver_addr&lt;/b&gt;&lt;div&gt;INSERT/UPDATE address&lt;/div&gt;&lt;div&gt;cre/upd_user_id = &#39;ocmsiz_app_conn&#39;&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" parent="bf-swim-api" vertex="1">
          <mxGeometry x="2730" y="190" width="220" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bf-inet-db" value="&lt;b&gt;eocms_furnish_application&lt;/b&gt;&lt;div&gt;Sync to Internet/PII&lt;/div&gt;&lt;div&gt;cre/upd_user_id = &#39;ocmsez_app_conn&#39;&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" parent="bf-swim-api" vertex="1">
          <mxGeometry x="2980" y="190" width="200" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bf-cross-e1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" parent="1" source="bf-p3" target="bf-api-chk1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-cross-e2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="bf-api-chk3" target="bf-d1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-cross-e3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" parent="1" source="bf-p13" target="bf-api-f1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bf-note1" value="&lt;b&gt;Note:&lt;/b&gt; Batch furnish processes each Notice individually, calling the Furnish API once per Notice." style="text;html=1;whiteSpace=wrap;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2900" y="100" width="200" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="4.3_Batch_Update_Mailing_Addr" id="s5-batch-update-001">
    <mxGraphModel dx="1895" dy="1138" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="3200" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="bu-title" value="5.3 Batch Update Mailing Address - Technical Flow" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;rounded=0;fontSize=14;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="40" y="10" width="500" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bu-swim-portal" value="Staff Portal" style="swimlane;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="20" y="50" width="2660" height="280" as="geometry" />
        </mxCell>
        <mxCell id="bu-start" value="Start" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="bu-swim-portal" vertex="1">
          <mxGeometry x="30" y="100" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bu-p1" value="OIC navigates to Batch Update screen" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bu-swim-portal" vertex="1">
          <mxGeometry x="150" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bu-p2" value="OIC enters ID Number" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bu-swim-portal" vertex="1">
          <mxGeometry x="290" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bu-p3" value="OIC clicks SEARCH" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bu-swim-portal" vertex="1">
          <mxGeometry x="430" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bu-p4" value="Call POST /staff-furnish/outstanding-notices" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="bu-swim-portal" vertex="1">
          <mxGeometry x="570" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bu-d1" value="Records found?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="bu-swim-portal" vertex="1">
          <mxGeometry x="710" y="85" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="bu-p5-err" value="Show &quot;Offender not found&quot;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#f8cecc;strokeColor=#b85450;" parent="bu-swim-portal" vertex="1">
          <mxGeometry x="720" y="210" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bu-p6" value="Display Notice list with addresses" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bu-swim-portal" vertex="1">
          <mxGeometry x="860" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bu-p7" value="OIC selects Notices to update" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bu-swim-portal" vertex="1">
          <mxGeometry x="1000" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bu-p8" value="OIC enters new mailing address" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bu-swim-portal" vertex="1">
          <mxGeometry x="1140" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bu-p9" value="OIC clicks SUBMIT" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bu-swim-portal" vertex="1">
          <mxGeometry x="1280" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bu-p10" value="Frontend validation" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bu-swim-portal" vertex="1">
          <mxGeometry x="1420" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bu-d2" value="Valid?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="bu-swim-portal" vertex="1">
          <mxGeometry x="1560" y="85" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="bu-p11-err" value="Show validation error" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#f8cecc;strokeColor=#b85450;" parent="bu-swim-portal" vertex="1">
          <mxGeometry x="1560" y="200" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bu-p12" value="Call POST /staff-furnish/batch-update-address" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="bu-swim-portal" vertex="1">
          <mxGeometry x="1680" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bu-p13" value="Receive response" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bu-swim-portal" vertex="1">
          <mxGeometry x="1820" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bu-p14" value="Display Result Page" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#82b366;" parent="bu-swim-portal" vertex="1">
          <mxGeometry x="1960" y="90" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="bu-end" value="End" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="bu-swim-portal" vertex="1">
          <mxGeometry x="2100" y="100" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bu-e1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-portal" source="bu-start" target="bu-p1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-e2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-portal" source="bu-p1" target="bu-p2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-e3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-portal" source="bu-p2" target="bu-p3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-e4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-portal" source="bu-p3" target="bu-p4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-e5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-portal" source="bu-p4" target="bu-d1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-e6" value="No" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-portal" source="bu-d1" target="bu-p5-err" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-e7" value="Yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-portal" source="bu-d1" target="bu-p6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-e8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-portal" source="bu-p6" target="bu-p7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-e9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-portal" source="bu-p7" target="bu-p8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-e10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-portal" source="bu-p8" target="bu-p9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-e11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-portal" source="bu-p9" target="bu-p10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-e12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-portal" source="bu-p10" target="bu-d2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-e13" value="No" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-portal" source="bu-d2" target="bu-p11-err" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-e14" value="Yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-portal" source="bu-d2" target="bu-p12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-e15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-portal" source="bu-p12" target="bu-p13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-e16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-portal" source="bu-p13" target="bu-p14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-e17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-portal" source="bu-p14" target="bu-end" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-swim-api" value="OCMS Admin API Intranet" style="swimlane;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="20" y="340" width="2660" height="280" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-g1" value="Receive request" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bu-swim-api" vertex="1">
          <mxGeometry x="570" y="30" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="csgdANFhHSrKwePocD5W-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;dashPattern=8 8;" edge="1" parent="bu-swim-api" source="bu-api-g2" target="bu-db1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-g2" value="Query by id_no" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bu-swim-api" vertex="1">
          <mxGeometry x="710" y="30" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-d1" value="Found?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="bu-swim-api" vertex="1">
          <mxGeometry x="860" y="25" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-g3" value="Filter by offender_indicator=Y" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bu-swim-api" vertex="1">
          <mxGeometry x="970" y="30" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="csgdANFhHSrKwePocD5W-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;dashPattern=8 8;" edge="1" parent="bu-swim-api" source="bu-api-g4" target="bu-db3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-g4" value="Check PS for each Notice" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bu-swim-api" vertex="1">
          <mxGeometry x="1110" y="30" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-g5" value="Remove PS notices" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bu-swim-api" vertex="1">
          <mxGeometry x="1250" y="30" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="csgdANFhHSrKwePocD5W-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;dashPattern=8 8;" edge="1" parent="bu-swim-api" source="bu-api-g6" target="bu-db4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-g6" value="Query mailing addresses" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bu-swim-api" vertex="1">
          <mxGeometry x="1390" y="30" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-g7" value="Return response" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#82b366;" parent="bu-swim-api" vertex="1">
          <mxGeometry x="1530" y="30" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-err1" value="Return NOT_FOUND" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#f8cecc;strokeColor=#b85450;" parent="bu-swim-api" vertex="1">
          <mxGeometry x="850" y="110" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-u1" value="Receive update request" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bu-swim-api" vertex="1">
          <mxGeometry x="1680" y="130" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-u2" value="Validate request" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bu-swim-api" vertex="1">
          <mxGeometry x="1820" y="130" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-u3" value="Loop: Process each Notice" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#82b366;" parent="bu-swim-api" vertex="1">
          <mxGeometry x="1960" y="130" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-u4" value="Update/Insert address" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="bu-swim-api" vertex="1">
          <mxGeometry x="2100" y="130" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-u5" value="Return success" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#82b366;" parent="bu-swim-api" vertex="1">
          <mxGeometry x="2240" y="130" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-e1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-api" source="bu-api-g1" target="bu-api-g2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-e2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-api" source="bu-api-g2" target="bu-api-d1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-e3" value="No" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-api" source="bu-api-d1" target="bu-api-err1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-e4" value="Yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-api" source="bu-api-d1" target="bu-api-g3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-e5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-api" source="bu-api-g3" target="bu-api-g4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-e6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-api" source="bu-api-g4" target="bu-api-g5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-e7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-api" source="bu-api-g5" target="bu-api-g6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-e8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-api" source="bu-api-g6" target="bu-api-g7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-e9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-api" source="bu-api-u1" target="bu-api-u2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-e10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-api" source="bu-api-u2" target="bu-api-u3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-e11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-api" source="bu-api-u3" target="bu-api-u4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-api-e12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bu-swim-api" source="bu-api-u4" target="bu-api-u5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="csgdANFhHSrKwePocD5W-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;dashed=1;dashPattern=8 8;" edge="1" parent="bu-swim-api" source="bu-db1" target="bu-db2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-db1" value="&lt;b&gt;ocms_offence_notice_owner_driver&lt;/b&gt;&lt;div&gt;SELECT notice_no, id_no, id_type, name, email_addr, offender_tel_no, offender_indicator, owner_driver_indicator WHERE id_no = ?&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" parent="bu-swim-api" vertex="1">
          <mxGeometry x="620" y="170" width="230" height="100" as="geometry" />
        </mxCell>
        <mxCell id="bu-db2" value="&lt;b&gt;ocms_valid_offence_notice&lt;/b&gt;&lt;div&gt;SELECT notice_no, vehicle_no, last_processing_stage WHERE notice_no = ?&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" parent="bu-swim-api" vertex="1">
          <mxGeometry x="890" y="180" width="190" height="80" as="geometry" />
        </mxCell>
        <mxCell id="bu-db3" value="&lt;b&gt;ocms_suspended_notice&lt;/b&gt;&lt;div&gt;Check PS suspension&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" parent="bu-swim-api" vertex="1">
          <mxGeometry x="1100" y="180" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bu-db4" value="&lt;b&gt;ocms_offence_notice_owner_driver_addr&lt;/b&gt;&lt;div&gt;SELECT/INSERT/UPDATE address&lt;/div&gt;&lt;div&gt;cre/upd_user_id = &#39;ocmsiz_app_conn&#39;&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" parent="bu-swim-api" vertex="1">
          <mxGeometry x="1305" y="180" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bu-cross-e1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" parent="1" source="bu-p4" target="bu-api-g1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-cross-e3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" parent="1" source="bu-p12" target="bu-api-u1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bu-note1" value="&lt;b&gt;PS Check:&lt;/b&gt; Notices with active Permanent Suspension (suspension_type=&#39;PS&#39; AND date_of_revival IS NULL) are excluded from the list." style="text;html=1;whiteSpace=wrap;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2400" y="400" width="250" height="70" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="4.3.1_Retrieve_Outstanding_Notices" id="s5-retrieve-001">
    <mxGraphModel dx="1389" dy="835" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2800" pageHeight="1400" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="ro-title" value="4.3.1 Retrieve Outstanding Notices - Backend Detail Flow" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;rounded=0;fontSize=14;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="40" y="10" width="500" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ro-swim-api" value="OCMS Admin API Intranet" style="swimlane;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="20" y="50" width="2700" height="600" as="geometry" />
        </mxCell>
        <mxCell id="ro-start" value="Function Start" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="30" y="80" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ro-p1" value="Extract ID number from request" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="170" y="75" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ro-p2" value="Query ocms_offence_notice_owner_driver by id_no" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="310" y="78" width="200" height="55" as="geometry" />
        </mxCell>
        <mxCell id="ro-d1" value="Records found?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="537" y="70" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ro-p3-err" value="Return OFFENDER_NOT_FOUND" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#f8cecc;strokeColor=#b85450;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="537" y="180" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ro-end1" value="End" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="547" y="260" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ro-p4" value="Filter by offender_indicator = &#39;Y&#39;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="677" y="75" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ro-p5" value="Result: List of notices where ID is Current Offender" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#82b366;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="817" y="75" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ro-p6" value="Query ocms_valid_offence_notice for each" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="977" y="75" width="143" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ro-d2" value="Notice found?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="1179" y="70" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ro-p7" value="Query ocms_suspended_notice" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="1299" y="75" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ro-d3" value="Suspension record?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="1439" y="65" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ro-d4" value="type = PS?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="1449" y="200" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ro-d5" value="date_of_revival IS NULL?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="1439" y="310" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ro-p8-exclude" value="Exclude: Active PS" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#f8cecc;strokeColor=#b85450;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="1439" y="420" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ro-p9" value="Add to eligible list" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#82b366;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="1599" y="75" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ro-p10" value="Process next Notice" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="1739" y="75" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ro-d6" value="More notices?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="1879" y="70" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ro-p11" value="Result: List without active PS" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#82b366;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="1999" y="75" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ro-p12" value="Query mailing address for each" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="2139" y="75" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ro-p13" value="Consolidate all data" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="2279" y="75" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ro-p14" value="Return response" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#82b366;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="2419" y="75" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ro-end2" value="Function End" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="2559" y="80" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ro-e1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-start" target="ro-p1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ro-e2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-p1" target="ro-p2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ro-e3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-p2" target="ro-d1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ro-e4" value="No" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-d1" target="ro-p3-err" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ro-e4b" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-p3-err" target="ro-end1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ro-e5" value="Yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-d1" target="ro-p4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ro-e6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-p4" target="ro-p5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ro-e7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-p5" target="ro-p6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ro-e8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-p6" target="ro-d2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ro-e9" value="Yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-d2" target="ro-p7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ro-e9b" value="No" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-d2" target="ro-p10" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1219" y="180" />
              <mxPoint x="1789" y="180" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ro-e10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-p7" target="ro-d3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ro-e11" value="No" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-d3" target="ro-p9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ro-e12" value="Yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-d3" target="ro-d4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ro-e13" value="No" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-d4" target="ro-p9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1569" y="230" />
              <mxPoint x="1569" y="105" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ro-e14" value="Yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-d4" target="ro-d5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ro-e15" value="No" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-d5" target="ro-p9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1579" y="345" />
              <mxPoint x="1579" y="105" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ro-e16" value="Yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-d5" target="ro-p8-exclude" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ro-e17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-p8-exclude" target="ro-p10" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1789" y="445" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ro-e18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-p9" target="ro-p10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ro-e19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-p10" target="ro-d6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ro-e20" value="Yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="ro-swim-api" source="ro-d6" target="ro-p6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ro-e21" value="No" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-d6" target="ro-p11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ro-e22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-p11" target="ro-p12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ro-e23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-p12" target="ro-p13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ro-e24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-p13" target="ro-p14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ro-e25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ro-swim-api" source="ro-p14" target="ro-end2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ro-db1" value="&lt;b&gt;ocms_offence_notice_owner_driver&lt;/b&gt;&lt;div&gt;SELECT notice_no, id_no, id_type, name, email_addr, offender_tel_no, offender_indicator, owner_driver_indicator WHERE id_no = ?&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="295" y="175" width="230" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ro-db2" value="&lt;b&gt;ocms_valid_offence_notice&lt;/b&gt;&lt;div&gt;SELECT notice_no, vehicle_no, last_processing_stage WHERE notice_no = ?&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="947" y="170" width="223" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ro-db3" value="&lt;b&gt;ocms_suspended_notice&lt;/b&gt;&lt;div&gt;Check PS suspension&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="1269" y="210" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ro-db4" value="&lt;b&gt;ocms_offence_notice_owner_driver_addr&lt;/b&gt;&lt;div&gt;SELECT mailing address&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="2058.5" y="190" width="261" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ro-note1" value="&lt;b&gt;PS Check Logic:&lt;/b&gt;&lt;br&gt;1. Query suspension records&lt;br&gt;2. If suspension_type = &#39;PS&#39;&lt;br&gt;3. AND date_of_revival IS NULL&lt;br&gt;= Active PS (exclude)" style="text;html=1;whiteSpace=wrap;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=middle;rounded=0;" parent="ro-swim-api" vertex="1">
          <mxGeometry x="1560" y="480" width="200" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
