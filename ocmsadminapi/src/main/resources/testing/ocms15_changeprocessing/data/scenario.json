[
  {
    "scenario": "OCMS Manual: ROV → RD1 (success)",
    "noticeNo": "T41000001X",
    "flow": "OCMS",
    "newStage": "RD1",
    "remarks": "Test OCMS manual change ROV to RD1",
    "expectedPrev": "ROV",
    "expectedLast": "RD1",
    "expectedNext": null,
    "expectedAmount": "120.00",
    "expectedSource": "OCMS",
    "isManualChange": true,
    "noticeData": {
      "noticeNo": "T41000001X",
      "vehicleNo": "SBA1234X",
      "offenceNoticeType": "PKG",
      "noticeDateAndTime": "2025-12-15T10:30:00",
      "compositionAmount": "100.00",
      "administrationFee": "10.00",
      "surcharge": "10.00",
      "amountPayable": "120.00",
      "lastProcessingStage": "ROV",
      "lastProcessingDate": "2025-12-15T10:30:00",
      "computerRuleCode": 1001,
      "ppCode": "PP001",
      "ppName": "Illegal Parking",
      "vehicleCategory": "CAR",
      "creDate": "2025-12-15T10:30:00",
      "creUserId": "SYSTEM"
    }
  },
  {
    "scenario": "OCMS Manual: RD1 → RD2 (success)",
    "noticeNo": "T41000002X",
    "flow": "OCMS",
    "newStage": "RD2",
    "remarks": "Test OCMS manual change RD1 to RD2",
    "expectedPrev": "RD1",
    "expectedLast": "RD2",
    "expectedNext": null,
    "expectedAmount": "150.00",
    "expectedSource": "OCMS",
    "isManualChange": true,
    "noticeData": {
      "noticeNo": "T41000002X",
      "vehicleNo": "SBA2345X",
      "offenceNoticeType": "PKG",
      "noticeDateAndTime": "2025-12-15T11:00:00",
      "compositionAmount": "100.00",
      "administrationFee": "10.00",
      "surcharge": "40.00",
      "amountPayable": "150.00",
      "lastProcessingStage": "RD1",
      "prevProcessingStage": "ROV",
      "lastProcessingDate": "2025-12-15T11:00:00",
      "computerRuleCode": 1001,
      "ppCode": "PP001",
      "ppName": "Illegal Parking",
      "vehicleCategory": "CAR",
      "creDate": "2025-12-15T11:00:00",
      "creUserId": "SYSTEM"
    }
  },
  {
    "scenario": "OCMS Manual: RD2 → DN1 (success)",
    "noticeNo": "T41000003X",
    "flow": "OCMS",
    "newStage": "DN1",
    "remarks": "Test OCMS manual change RD2 to DN1",
    "expectedPrev": "RD2",
    "expectedLast": "DN1",
    "expectedNext": null,
    "expectedAmount": "180.00",
    "expectedSource": "OCMS",
    "isManualChange": true,
    "noticeData": {
      "noticeNo": "T41000003X",
      "vehicleNo": "SBA3456X",
      "offenceNoticeType": "PKG",
      "noticeDateAndTime": "2025-12-15T12:00:00",
      "compositionAmount": "100.00",
      "administrationFee": "10.00",
      "surcharge": "70.00",
      "amountPayable": "180.00",
      "lastProcessingStage": "RD2",
      "prevProcessingStage": "RD1",
      "lastProcessingDate": "2025-12-15T12:00:00",
      "computerRuleCode": 1001,
      "ppCode": "PP001",
      "ppName": "Illegal Parking",
      "vehicleCategory": "CAR",
      "creDate": "2025-12-15T12:00:00",
      "creUserId": "SYSTEM"
    }
  },
  {
    "scenario": "OCMS Manual: DN1 → DN2 (success)",
    "noticeNo": "T41000004X",
    "flow": "OCMS",
    "newStage": "DN2",
    "remarks": "Test OCMS manual change DN1 to DN2",
    "expectedPrev": "DN1",
    "expectedLast": "DN2",
    "expectedNext": null,
    "expectedAmount": "200.00",
    "expectedSource": "OCMS",
    "isManualChange": true,
    "noticeData": {
      "noticeNo": "T41000004X",
      "vehicleNo": "SBA4567X",
      "offenceNoticeType": "PKG",
      "noticeDateAndTime": "2025-12-15T13:00:00",
      "compositionAmount": "100.00",
      "administrationFee": "10.00",
      "surcharge": "90.00",
      "amountPayable": "200.00",
      "lastProcessingStage": "DN1",
      "prevProcessingStage": "RD2",
      "lastProcessingDate": "2025-12-15T13:00:00",
      "computerRuleCode": 1001,
      "ppCode": "PP001",
      "ppName": "Illegal Parking",
      "vehicleCategory": "CAR",
      "creDate": "2025-12-15T13:00:00",
      "creUserId": "SYSTEM"
    }
  },
  {
    "scenario": "OCMS Manual: DN2 → WOF (success)",
    "noticeNo": "T41000005X",
    "flow": "OCMS",
    "newStage": "WOF",
    "remarks": "Test OCMS manual change DN2 to WOF",
    "expectedPrev": "DN2",
    "expectedLast": "WOF",
    "expectedNext": null,
    "expectedAmount": "200.00",
    "expectedSource": "OCMS",
    "isManualChange": true,
    "noticeData": {
      "noticeNo": "T41000005X",
      "vehicleNo": "SBA5678X",
      "offenceNoticeType": "PKG",
      "noticeDateAndTime": "2025-12-15T14:00:00",
      "compositionAmount": "100.00",
      "administrationFee": "10.00",
      "surcharge": "90.00",
      "amountPayable": "200.00",
      "lastProcessingStage": "DN2",
      "prevProcessingStage": "DN1",
      "lastProcessingDate": "2025-12-15T14:00:00",
      "computerRuleCode": 1001,
      "ppCode": "PP001",
      "ppName": "Illegal Parking",
      "vehicleCategory": "CAR",
      "creDate": "2025-12-15T14:00:00",
      "creUserId": "SYSTEM"
    }
  },
  {
    "scenario": "PLUS Integration: ROV → RD1 (success, valid from PLUS)",
    "noticeNo": "T41000006X",
    "flow": "PLUS",
    "newStage": "RD1",
    "remarks": null,
    "expectedPrev": "ROV",
    "expectedLast": "RD1",
    "expectedNext": null,
    "expectedAmount": "120.00",
    "expectedSource": "PLUS",
    "isManualChange": false,
    "noticeData": {
      "noticeNo": "T41000006X",
      "vehicleNo": "SBA6789X",
      "offenceNoticeType": "PKG",
      "noticeDateAndTime": "2025-12-15T15:00:00",
      "compositionAmount": "100.00",
      "administrationFee": "10.00",
      "surcharge": "10.00",
      "amountPayable": "120.00",
      "lastProcessingStage": "ROV",
      "lastProcessingDate": "2025-12-15T15:00:00",
      "computerRuleCode": 1001,
      "ppCode": "PP001",
      "ppName": "Illegal Parking",
      "vehicleCategory": "CAR",
      "creDate": "2025-12-15T15:00:00",
      "creUserId": "SYSTEM"
    }
  },
  {
    "scenario": "PLUS Integration: RD1 → RD2 (success, valid from PLUS)",
    "noticeNo": "T41000007X",
    "flow": "PLUS",
    "newStage": "RD2",
    "remarks": null,
    "expectedPrev": "RD1",
    "expectedLast": "RD2",
    "expectedNext": null,
    "expectedAmount": "150.00",
    "expectedSource": "PLUS",
    "isManualChange": false,
    "noticeData": {
      "noticeNo": "T41000007X",
      "vehicleNo": "SBA7890X",
      "offenceNoticeType": "PKG",
      "noticeDateAndTime": "2025-12-15T16:00:00",
      "compositionAmount": "100.00",
      "administrationFee": "10.00",
      "surcharge": "40.00",
      "amountPayable": "150.00",
      "lastProcessingStage": "RD1",
      "prevProcessingStage": "ROV",
      "lastProcessingDate": "2025-12-15T16:00:00",
      "computerRuleCode": 1001,
      "ppCode": "PP001",
      "ppName": "Illegal Parking",
      "vehicleCategory": "CAR",
      "creDate": "2025-12-15T16:00:00",
      "creUserId": "SYSTEM"
    }
  },
  {
    "scenario": "OCMS Manual: ENA → RD1 (rejection - invalid stage transition)",
    "noticeNo": "T41000008X",
    "flow": "OCMS",
    "newStage": "RD1",
    "remarks": "Test invalid stage transition ENA to RD1",
    "expectedPrev": "ENA",
    "expectedLast": "ENA",
    "expectedNext": null,
    "expectedAmount": "120.00",
    "expectedSource": "OCMS",
    "isManualChange": true,
    "shouldReject": true,
    "rejectionReason": "Invalid stage transition: ENA cannot change to RD1",
    "noticeData": {
      "noticeNo": "T41000008X",
      "vehicleNo": "SBA8901X",
      "offenceNoticeType": "PKG",
      "noticeDateAndTime": "2025-12-15T17:00:00",
      "compositionAmount": "100.00",
      "administrationFee": "10.00",
      "surcharge": "10.00",
      "amountPayable": "120.00",
      "lastProcessingStage": "ENA",
      "lastProcessingDate": "2025-12-15T17:00:00",
      "computerRuleCode": 1001,
      "ppCode": "PP001",
      "ppName": "Illegal Parking",
      "vehicleCategory": "CAR",
      "creDate": "2025-12-15T17:00:00",
      "creUserId": "SYSTEM"
    }
  },
  {
    "scenario": "PLUS Integration: ROV → DN1 (rejection - invalid stage transition for PLUS)",
    "noticeNo": "T41000009X",
    "flow": "PLUS",
    "newStage": "DN1",
    "remarks": null,
    "expectedPrev": "ROV",
    "expectedLast": "ROV",
    "expectedNext": null,
    "expectedAmount": "120.00",
    "expectedSource": "PLUS",
    "isManualChange": false,
    "shouldReject": true,
    "rejectionReason": "PLUS validation failed: Cannot skip RD1 and RD2 stages",
    "noticeData": {
      "noticeNo": "T41000009X",
      "vehicleNo": "SBA9012X",
      "offenceNoticeType": "PKG",
      "noticeDateAndTime": "2025-12-15T18:00:00",
      "compositionAmount": "100.00",
      "administrationFee": "10.00",
      "surcharge": "10.00",
      "amountPayable": "120.00",
      "lastProcessingStage": "ROV",
      "lastProcessingDate": "2025-12-15T18:00:00",
      "computerRuleCode": 1001,
      "ppCode": "PP001",
      "ppName": "Illegal Parking",
      "vehicleCategory": "CAR",
      "creDate": "2025-12-15T18:00:00",
      "creUserId": "SYSTEM"
    }
  },
  {
    "scenario": "OCMS Manual: ROV → ROV (rejection - same stage)",
    "noticeNo": "T41000010X",
    "flow": "OCMS",
    "newStage": "ROV",
    "remarks": "Test same stage change (should reject)",
    "expectedPrev": null,
    "expectedLast": "ROV",
    "expectedNext": null,
    "expectedAmount": "120.00",
    "expectedSource": "OCMS",
    "isManualChange": true,
    "shouldReject": true,
    "rejectionReason": "New stage cannot be same as current stage",
    "noticeData": {
      "noticeNo": "T41000010X",
      "vehicleNo": "SBA0123X",
      "offenceNoticeType": "PKG",
      "noticeDateAndTime": "2025-12-15T19:00:00",
      "compositionAmount": "100.00",
      "administrationFee": "10.00",
      "surcharge": "10.00",
      "amountPayable": "120.00",
      "lastProcessingStage": "ROV",
      "lastProcessingDate": "2025-12-15T19:00:00",
      "computerRuleCode": 1001,
      "ppCode": "PP001",
      "ppName": "Illegal Parking",
      "vehicleCategory": "CAR",
      "creDate": "2025-12-15T19:00:00",
      "creUserId": "SYSTEM"
    }
  }
]
