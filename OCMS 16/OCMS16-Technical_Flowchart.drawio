<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36" version="29.3.2" pages="2">
  <diagram id="reduction-high-level" name="Reduction_High_Level">
    <mxGraphModel dx="1426" dy="897" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="6000" pageHeight="1700" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title-1" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;rounded=0;fontSize=18;fontStyle=1" value="OCMS 16 - Reduction: High Level Flow" vertex="1">
          <mxGeometry height="30" width="400" x="40" y="20" as="geometry" />
        </mxCell>
        <mxCell id="sw-plus" parent="1" style="swimlane;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="PLUS Staff Portal" vertex="1">
          <mxGeometry height="300" width="1800" x="20" y="70" as="geometry" />
        </mxCell>
        <mxCell id="hl-start" parent="sw-plus" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="Start" vertex="1">
          <mxGeometry height="60" width="100" x="30" y="115" as="geometry" />
        </mxCell>
        <mxCell id="hl-1" parent="sw-plus" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="PLUS Officer initiates Reduction for Notice" vertex="1">
          <mxGeometry height="100" width="120" x="180" y="95" as="geometry" />
        </mxCell>
        <mxCell id="hl-2" parent="sw-plus" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="PLUS System checks if Notice is eligible for Reduction" vertex="1">
          <mxGeometry height="100" width="120" x="350" y="95" as="geometry" />
        </mxCell>
        <mxCell id="hl-d1" parent="sw-plus" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" value="Eligible?" vertex="1">
          <mxGeometry height="100" width="100" x="520" y="95" as="geometry" />
        </mxCell>
        <mxCell id="hl-3" parent="sw-plus" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="PLUS Backend sends Reduction request to OCMS via API" vertex="1">
          <mxGeometry height="100" width="120" x="680" y="95" as="geometry" />
        </mxCell>
        <mxCell id="hl-end-ne" parent="sw-plus" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="End" vertex="1">
          <mxGeometry height="60" width="100" x="520" y="220" as="geometry" />
        </mxCell>
        <mxCell id="hl-e1" edge="1" parent="sw-plus" source="hl-start" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hl-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-e2" edge="1" parent="sw-plus" source="hl-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hl-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-e3" edge="1" parent="sw-plus" source="hl-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hl-d1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-e4" edge="1" parent="sw-plus" source="hl-d1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hl-3" value="yes">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-e5" edge="1" parent="sw-plus" source="hl-d1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hl-end-ne" value="no">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sw-apim" parent="1" style="swimlane;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" value="APIM Gateway" vertex="1">
          <mxGeometry height="150" width="1800" x="20" y="380" as="geometry" />
        </mxCell>
        <mxCell id="hl-apim" parent="sw-apim" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;dashed=1;" value="Route request to OCMS Backend" vertex="1">
          <mxGeometry height="60" width="120" x="680" y="45" as="geometry" />
        </mxCell>
        <mxCell id="sw-backend" parent="1" style="swimlane;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="OCMS Admin API Intranet" vertex="1">
          <mxGeometry height="350" width="1800" x="20" y="540" as="geometry" />
        </mxCell>
        <mxCell id="hl-recv" parent="sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="OCMS Backend receives Reduction request" vertex="1">
          <mxGeometry height="80" width="120" x="680" y="50" as="geometry" />
        </mxCell>
        <mxCell id="hl-validate" parent="sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Validate Notice for Reduction" vertex="1">
          <mxGeometry height="80" width="120" x="850" y="50" as="geometry" />
        </mxCell>
        <mxCell id="hl-d2" parent="sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" value="Validation Pass?" vertex="1">
          <mxGeometry height="100" width="100" x="1020" y="40" as="geometry" />
        </mxCell>
        <mxCell id="hl-process" parent="sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Process Reduction: Update Notice with TS-RED" vertex="1">
          <mxGeometry height="80" width="120" x="1180" y="50" as="geometry" />
        </mxCell>
        <mxCell id="hl-resp-s" parent="sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Response to PLUS: Reduction Success" vertex="1">
          <mxGeometry height="80" width="120" x="1350" y="50" as="geometry" />
        </mxCell>
        <mxCell id="hl-resp-f" parent="sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Response to PLUS: Error (Paid/Not Eligible/Fail)" vertex="1">
          <mxGeometry height="80" width="120" x="1020" y="180" as="geometry" />
        </mxCell>
        <mxCell id="hl-end-s" parent="sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="End" vertex="1">
          <mxGeometry height="60" width="100" x="1520" y="60" as="geometry" />
        </mxCell>
        <mxCell id="hl-end-f" parent="sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="End" vertex="1">
          <mxGeometry height="60" width="100" x="1180" y="190" as="geometry" />
        </mxCell>
        <mxCell id="hl-be1" edge="1" parent="sw-backend" source="hl-recv" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hl-validate">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-be2" edge="1" parent="sw-backend" source="hl-validate" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hl-d2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-be3" edge="1" parent="sw-backend" source="hl-d2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hl-process" value="yes">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-be4" edge="1" parent="sw-backend" source="hl-d2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hl-resp-f" value="no">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-be5" edge="1" parent="sw-backend" source="hl-process" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hl-resp-s">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-be6" edge="1" parent="sw-backend" source="hl-resp-s" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hl-end-s">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-be7" edge="1" parent="sw-backend" source="hl-resp-f" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hl-end-f">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-cross1" edge="1" parent="1" source="hl-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" target="hl-apim" value="API Request">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-cross2" edge="1" parent="1" source="hl-apim" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" target="hl-recv">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-note1" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=#6c8ebf;fillColor=#dae8fc;align=center;verticalAlign=middle;rounded=0;fontStyle=2" value="Pre-conditions are handled by PLUS System before sending request to OCMS" vertex="1">
          <mxGeometry height="40" width="250" x="180" y="290" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="plus-apply-reduction" name="PLUS_Apply_Reduction">
    <mxGraphModel dx="3565" dy="2243" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="7000" pageHeight="2000" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title-2" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;rounded=0;fontSize=18;fontStyle=1" value="OCMS 16 - PLUS Apply Reduction: Detailed Backend Flow" vertex="1">
          <mxGeometry height="30" width="500" x="40" y="20" as="geometry" />
        </mxCell>
        <mxCell id="d-sw-plus" parent="1" style="swimlane;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="PLUS System" vertex="1">
          <mxGeometry height="410" width="3940" x="20" y="70" as="geometry" />
        </mxCell>
        <mxCell id="d-start" parent="d-sw-plus" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="Start" vertex="1">
          <mxGeometry height="60" width="100" x="30" y="70" as="geometry" />
        </mxCell>
        <mxCell id="d-send" parent="d-sw-plus" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="POST /v1/plus-apply-reduction" vertex="1">
          <mxGeometry height="100" width="120" x="180" y="50" as="geometry" />
        </mxCell>
        <mxCell id="d-e1" edge="1" parent="d-sw-plus" source="d-start" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-send">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-payload" parent="d-sw-plus" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" value="POST /v1/plus-apply-reduction&lt;br&gt;{&lt;br&gt;&amp;nbsp; &quot;noticeNo&quot;: &quot;500500303J&quot;,&lt;br&gt;&amp;nbsp; &quot;amountReduced&quot;: 55.00,&lt;br&gt;&amp;nbsp; &quot;amountPayable&quot;: 15.00,&lt;br&gt;&amp;nbsp; &quot;dateOfReduction&quot;: &quot;2025-08-01T19:00:02&quot;,&lt;br&gt;&amp;nbsp; &quot;expiryDateOfReduction&quot;: &quot;2025-08-15T00:00:00&quot;,&lt;br&gt;&amp;nbsp; &quot;reasonOfReduction&quot;: &quot;RED&quot;,&lt;br&gt;&amp;nbsp; &quot;authorisedOfficer&quot;: &quot;JOHNLEE&quot;,&lt;br&gt;&amp;nbsp; &quot;suspensionSource&quot;: &quot;005&quot;&lt;br&gt;}" vertex="1">
          <mxGeometry height="200" width="280" x="400" y="50" as="geometry" />
        </mxCell>
        <mxCell id="d-e-payload" edge="1" parent="d-sw-plus" source="d-send" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" target="d-payload">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-sw-backend" parent="1" style="swimlane;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="OCMS Admin API Intranet" vertex="1">
          <mxGeometry height="500" width="3940" x="20" y="510" as="geometry" />
        </mxCell>
        <mxCell id="d-recv" parent="d-sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Receive Reduction Request" vertex="1">
          <mxGeometry height="80" width="120" x="180" y="50" as="geometry" />
        </mxCell>
        <mxCell id="d-d1" parent="d-sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" value="Data format correct?" vertex="1">
          <mxGeometry height="100" width="100" x="350" y="40" as="geometry" />
        </mxCell>
        <mxCell id="d-d2" parent="d-sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" value="Mandatory data present?" vertex="1">
          <mxGeometry height="100" width="100" x="510" y="40" as="geometry" />
        </mxCell>
        <mxCell id="d-query" parent="d-sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Query Notice by notice_no" vertex="1">
          <mxGeometry height="80" width="120" x="670" y="50" as="geometry" />
        </mxCell>
        <mxCell id="d-d3" parent="d-sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" value="Notice exists?" vertex="1">
          <mxGeometry height="100" width="100" x="850" y="40" as="geometry" />
        </mxCell>
        <mxCell id="d-d4" parent="d-sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" value="Already reduced (TS-RED)?" vertex="1">
          <mxGeometry height="100" width="100" x="1010" y="40" as="geometry" />
        </mxCell>
        <mxCell id="d-d5" parent="d-sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" value="Notice paid? (CRS=FP/PRA)" vertex="1">
          <mxGeometry height="100" width="100" x="1170" y="40" as="geometry" />
        </mxCell>
        <mxCell id="d-d6" parent="d-sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" value="Rule Code eligible? (30305/31302/30302/21300)" vertex="1">
          <mxGeometry height="120" width="120" x="1350" y="30" as="geometry" />
        </mxCell>
        <mxCell id="d-d7" parent="d-sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" value="Stage in extended list?" vertex="1">
          <mxGeometry height="100" width="100" x="1570" y="40" as="geometry" />
        </mxCell>
        <mxCell id="d-d8" parent="d-sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" value="Stage = RR3 or DR3?" vertex="1">
          <mxGeometry height="100" width="100" x="1360" y="260" as="geometry" />
        </mxCell>
        <mxCell id="d-val-amt" parent="d-sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Validate Amounts and Dates" vertex="1">
          <mxGeometry height="80" width="120" x="1822" y="50" as="geometry" />
        </mxCell>
        <mxCell id="d-d9" parent="d-sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" value="Valid?" vertex="1">
          <mxGeometry height="100" width="100" x="2002" y="40" as="geometry" />
        </mxCell>
        <mxCell id="d-begin" parent="d-sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" value="BEGIN TRANSACTION" vertex="1">
          <mxGeometry height="80" width="120" x="2162" y="50" as="geometry" />
        </mxCell>
        <mxCell id="d-upd-von" parent="d-sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Step 1: Update VON with TS-RED and new amount" vertex="1">
          <mxGeometry height="80" width="120" x="2383" y="50" as="geometry" />
        </mxCell>
        <mxCell id="d-ins-sn" parent="d-sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Step 2: Insert into ocms_suspended_notice" vertex="1">
          <mxGeometry height="80" width="167" x="2587" y="50" as="geometry" />
        </mxCell>
        <mxCell id="d-ins-roa" parent="d-sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Step 3: Insert into ocms_reduced_offence_amount" vertex="1">
          <mxGeometry height="80" width="177" x="2848" y="50" as="geometry" />
        </mxCell>
        <mxCell id="d-upd-evon" parent="d-sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Step 4: Update Internet eVON (4 fields)" vertex="1">
          <mxGeometry height="80" width="120" x="3111" y="50" as="geometry" />
        </mxCell>
        <mxCell id="d-d10" parent="d-sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" value="All updates successful?" vertex="1">
          <mxGeometry height="100" width="100" x="3318" y="40" as="geometry" />
        </mxCell>
        <mxCell id="d-commit" parent="d-sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" value="COMMIT" vertex="1">
          <mxGeometry height="60" width="100" x="3478" y="60" as="geometry" />
        </mxCell>
        <mxCell id="d-resp-s" parent="d-sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#82b366;" value="Response: Reduction Success" vertex="1">
          <mxGeometry height="80" width="120" x="3638" y="50" as="geometry" />
        </mxCell>
        <mxCell id="d-end-s" parent="d-sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="End" vertex="1">
          <mxGeometry height="60" width="100" x="3818" y="60" as="geometry" />
        </mxCell>
        <mxCell id="d-err-fmt" parent="d-sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Response: Invalid format" vertex="1">
          <mxGeometry height="60" width="120" x="340" y="180" as="geometry" />
        </mxCell>
        <mxCell id="d-err-miss" parent="d-sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Response: Missing data" vertex="1">
          <mxGeometry height="60" width="120" x="500" y="180" as="geometry" />
        </mxCell>
        <mxCell id="d-err-nf" parent="d-sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Response: Notice not found" vertex="1">
          <mxGeometry height="60" width="120" x="840" y="180" as="geometry" />
        </mxCell>
        <mxCell id="d-resp-idem" parent="d-sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#82b366;" value="Response: Reduction Success (Idempotent)" vertex="1">
          <mxGeometry height="60" width="120" x="1000" y="180" as="geometry" />
        </mxCell>
        <mxCell id="d-err-paid" parent="d-sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Response: Notice has been paid" vertex="1">
          <mxGeometry height="60" width="120" x="1160" y="180" as="geometry" />
        </mxCell>
        <mxCell id="d-err-elig" parent="d-sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Response: Notice is not eligible" vertex="1">
          <mxGeometry height="60" width="120" x="1560" y="370" as="geometry" />
        </mxCell>
        <mxCell id="d-err-amt" parent="d-sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Response: Invalid format" vertex="1">
          <mxGeometry height="60" width="120" x="1992" y="180" as="geometry" />
        </mxCell>
        <mxCell id="d-rollback" parent="d-sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" value="ROLLBACK" vertex="1">
          <mxGeometry height="60" width="120" x="3308" y="180" as="geometry" />
        </mxCell>
        <mxCell id="d-err-fail" parent="d-sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Response: Reduction fail" vertex="1">
          <mxGeometry height="60" width="120" x="3308" y="280" as="geometry" />
        </mxCell>
        <mxCell id="d-end-e1" parent="d-sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="End" vertex="1">
          <mxGeometry height="50" width="100" x="350" y="280" as="geometry" />
        </mxCell>
        <mxCell id="d-end-e2" parent="d-sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="End" vertex="1">
          <mxGeometry height="50" width="100" x="510" y="280" as="geometry" />
        </mxCell>
        <mxCell id="d-end-e3" parent="d-sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="End" vertex="1">
          <mxGeometry height="50" width="100" x="850" y="280" as="geometry" />
        </mxCell>
        <mxCell id="d-end-idem" parent="d-sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="End" vertex="1">
          <mxGeometry height="50" width="100" x="1010" y="280" as="geometry" />
        </mxCell>
        <mxCell id="d-end-e4" parent="d-sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="End" vertex="1">
          <mxGeometry height="50" width="100" x="1170" y="280" as="geometry" />
        </mxCell>
        <mxCell id="d-end-e5" parent="d-sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="End" vertex="1">
          <mxGeometry height="50" width="100" x="1730" y="375" as="geometry" />
        </mxCell>
        <mxCell id="d-end-e6" parent="d-sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="End" vertex="1">
          <mxGeometry height="50" width="100" x="2002" y="280" as="geometry" />
        </mxCell>
        <mxCell id="d-end-e7" parent="d-sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="End" vertex="1">
          <mxGeometry height="50" width="100" x="3318" y="380" as="geometry" />
        </mxCell>
        <mxCell id="d-c1" edge="1" parent="d-sw-backend" source="d-recv" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-d1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c2" edge="1" parent="d-sw-backend" source="d-d1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-d2" value="yes">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c2n" edge="1" parent="d-sw-backend" source="d-d1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-err-fmt" value="no">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c3" edge="1" parent="d-sw-backend" source="d-d2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-query" value="yes">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c3n" edge="1" parent="d-sw-backend" source="d-d2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-err-miss" value="no">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c4" edge="1" parent="d-sw-backend" source="d-query" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-d3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c5" edge="1" parent="d-sw-backend" source="d-d3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-d4" value="yes">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c5n" edge="1" parent="d-sw-backend" source="d-d3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-err-nf" value="no">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c6" edge="1" parent="d-sw-backend" source="d-d4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-d5" value="no">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c6y" edge="1" parent="d-sw-backend" source="d-d4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-resp-idem" value="yes">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c7" edge="1" parent="d-sw-backend" source="d-d5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-d6" value="no">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c7y" edge="1" parent="d-sw-backend" source="d-d5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-err-paid" value="yes">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c8" edge="1" parent="d-sw-backend" source="d-d6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-d7" value="yes">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c8n" edge="1" parent="d-sw-backend" source="d-d6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-d8" value="no">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c9" edge="1" parent="d-sw-backend" source="d-d7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-val-amt" value="yes">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c9n" edge="1" parent="d-sw-backend" source="d-d7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-err-elig" value="no">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c10" edge="1" parent="d-sw-backend" source="d-d8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" target="d-val-amt" value="yes">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1880" y="310" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="d-c10n" edge="1" parent="d-sw-backend" source="d-d8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.008;entryY=0.617;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" target="d-err-elig" value="no">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c11" edge="1" parent="d-sw-backend" source="d-val-amt" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-d9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c12" edge="1" parent="d-sw-backend" source="d-d9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-begin" value="yes">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c12n" edge="1" parent="d-sw-backend" source="d-d9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-err-amt" value="no">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c13" edge="1" parent="d-sw-backend" source="d-begin" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-upd-von">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c14" edge="1" parent="d-sw-backend" source="d-upd-von" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-ins-sn">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c15" edge="1" parent="d-sw-backend" source="d-ins-sn" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-ins-roa">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c16" edge="1" parent="d-sw-backend" source="d-ins-roa" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-upd-evon">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c17" edge="1" parent="d-sw-backend" source="d-upd-evon" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-d10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c18" edge="1" parent="d-sw-backend" source="d-d10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-commit" value="yes">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c18n" edge="1" parent="d-sw-backend" source="d-d10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-rollback" value="no">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c19" edge="1" parent="d-sw-backend" source="d-commit" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-resp-s">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c20" edge="1" parent="d-sw-backend" source="d-resp-s" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-end-s">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c21" edge="1" parent="d-sw-backend" source="d-rollback" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-err-fail">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-ce1" edge="1" parent="d-sw-backend" source="d-err-fmt" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-end-e1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-ce2" edge="1" parent="d-sw-backend" source="d-err-miss" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-end-e2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-ce3" edge="1" parent="d-sw-backend" source="d-err-nf" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-end-e3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-ce4" edge="1" parent="d-sw-backend" source="d-resp-idem" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-end-idem">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-ce5" edge="1" parent="d-sw-backend" source="d-err-paid" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-end-e4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-ce6" edge="1" parent="d-sw-backend" source="d-err-elig" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-end-e5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-ce7" edge="1" parent="d-sw-backend" source="d-err-amt" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-end-e6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-ce8" edge="1" parent="d-sw-backend" source="d-err-fail" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="d-end-e7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-note-special" parent="d-sw-backend" style="text;html=1;whiteSpace=wrap;strokeColor=#6c8ebf;fillColor=#dae8fc;align=center;verticalAlign=middle;rounded=0;" value="Special Case:&lt;br&gt;Non-eligible codes can reduce at RR3/DR3 only" vertex="1">
          <mxGeometry height="60" width="130" x="1250" y="350" as="geometry" />
        </mxCell>
        <mxCell id="d-note-stages" parent="d-sw-backend" style="text;html=1;whiteSpace=wrap;strokeColor=#6c8ebf;fillColor=#dae8fc;align=center;verticalAlign=middle;rounded=0;" value="Extended Stage List:&lt;br&gt;NPA, ROV, ENA, RD1, RD2, RR3, DN1, DN2, DR3" vertex="1">
          <mxGeometry height="60" width="130" x="1640" y="130" as="geometry" />
        </mxCell>
        <mxCell id="d-note-codes" parent="d-sw-backend" style="text;html=1;whiteSpace=wrap;strokeColor=#6c8ebf;fillColor=#dae8fc;align=center;verticalAlign=middle;rounded=0;" value="Eligible Computer Rule Codes:&lt;br&gt;30305, 31302, 30302, 21300" vertex="1">
          <mxGeometry height="50" width="150" x="1430" y="150" as="geometry" />
        </mxCell>
        <mxCell id="d-db-query" parent="d-sw-backend" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" value="SELECT FROM ocms_valid_offence_notice WHERE notice_no = ?" vertex="1">
          <mxGeometry height="60" width="160" x="650" y="390" as="geometry" />
        </mxCell>
        <mxCell id="d-db-c1" edge="1" parent="d-sw-backend" source="d-query" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" target="d-db-query">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-db-upd" parent="d-sw-backend" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" value="UPDATE ocms_valid_offence_notice SET suspension_type=&#39;TS&#39;, epr_reason_of_suspension=&#39;RED&#39;, amount_payable=?, ..." vertex="1">
          <mxGeometry height="90" width="187" x="2350" y="270" as="geometry" />
        </mxCell>
        <mxCell id="d-db-c2" edge="1" parent="d-sw-backend" source="d-upd-von" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" target="d-db-upd">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-db-sn" parent="d-sw-backend" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" value="INSERT INTO ocms_suspended_notice (&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;notice_no,&lt;/span&gt;&lt;div&gt;&lt;div&gt;date_of_suspension,&lt;/div&gt;&lt;div&gt;sr_no,&lt;/div&gt;&lt;div&gt;suspension_source,&lt;/div&gt;&lt;div&gt;suspension_type,&lt;/div&gt;&lt;div&gt;reason_of_suspension&lt;/div&gt;&lt;/div&gt;&lt;div&gt;suspension_remark&lt;/div&gt;)" vertex="1">
          <mxGeometry height="150" width="166" x="2588" y="275" as="geometry" />
        </mxCell>
        <mxCell id="d-db-c3" edge="1" parent="d-sw-backend" source="d-ins-sn" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" target="d-db-sn">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-idb-upd" parent="d-sw-backend" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" value="UPDATE eocms_valid_offence_notice SET suspension_type=&#39;TS&#39;, epr_reason_of_suspension=&#39;RED&#39;, epr_date_of_suspension=?, amount_payable=?" vertex="1">
          <mxGeometry height="90" width="190" x="3076" y="280" as="geometry" />
        </mxCell>
        <mxCell id="d-db-c5" edge="1" parent="d-sw-backend" source="d-upd-evon" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="3171" y="280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d-db-roa" parent="d-sw-backend" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" value="INSERT INTO ocms_reduced_offence_amount&amp;nbsp;&lt;div&gt;&lt;div&gt;(notice_no&lt;/div&gt;&lt;div&gt;date_of_reduction&lt;/div&gt;&lt;div&gt;sr_no&lt;/div&gt;&lt;div&gt;amount_reduced&lt;/div&gt;&lt;div&gt;reason_of_reduction&lt;/div&gt;&lt;div&gt;expiry_date&lt;/div&gt;&lt;div&gt;authorised_officer&lt;/div&gt;&lt;div&gt;remarks&lt;/div&gt;&lt;div&gt;amount_payable)&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="170" width="180" x="2848" y="280" as="geometry" />
        </mxCell>
        <mxCell id="d-db-c4" edge="1" parent="d-sw-backend" source="d-ins-roa" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" target="d-db-roa">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-cross1" edge="1" parent="1" source="d-send" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" target="d-recv" value="API Request">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
