<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/28.1.2 Chrome/138.0.7204.243 Electron/37.4.0 Safari/537.36" version="28.1.2" pages="2">
  <diagram id="reduction-high-level" name="Reduction_High_Level">
    <mxGraphModel dx="1426" dy="897" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="6000" pageHeight="1700" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title-1" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;rounded=0;fontSize=18;fontStyle=1" value="OCMS 16 - Reduction: High Level Flow" vertex="1">
          <mxGeometry height="30" width="400" x="40" y="20" as="geometry" />
        </mxCell>
        <mxCell id="sw-plus" parent="1" style="swimlane;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="PLUS Staff Portal" vertex="1">
          <mxGeometry height="300" width="1800" x="20" y="70" as="geometry" />
        </mxCell>
        <mxCell id="hl-start" parent="sw-plus" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="Start" vertex="1">
          <mxGeometry height="60" width="100" x="30" y="115" as="geometry" />
        </mxCell>
        <mxCell id="hl-1" parent="sw-plus" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="PLUS Officer initiates Reduction for Notice" vertex="1">
          <mxGeometry height="100" width="120" x="180" y="95" as="geometry" />
        </mxCell>
        <mxCell id="hl-2" parent="sw-plus" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="PLUS System checks if Notice is eligible for Reduction" vertex="1">
          <mxGeometry height="100" width="120" x="350" y="95" as="geometry" />
        </mxCell>
        <mxCell id="hl-d1" parent="sw-plus" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" value="Eligible?" vertex="1">
          <mxGeometry height="100" width="100" x="520" y="95" as="geometry" />
        </mxCell>
        <mxCell id="hl-3" parent="sw-plus" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="PLUS Backend sends Reduction request to OCMS via API" vertex="1">
          <mxGeometry height="100" width="120" x="680" y="95" as="geometry" />
        </mxCell>
        <mxCell id="hl-end-ne" parent="sw-plus" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="End" vertex="1">
          <mxGeometry height="60" width="100" x="520" y="220" as="geometry" />
        </mxCell>
        <mxCell id="hl-e1" edge="1" parent="sw-plus" source="hl-start" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hl-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-e2" edge="1" parent="sw-plus" source="hl-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hl-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-e3" edge="1" parent="sw-plus" source="hl-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hl-d1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-e4" edge="1" parent="sw-plus" source="hl-d1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hl-3" value="yes">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-e5" edge="1" parent="sw-plus" source="hl-d1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hl-end-ne" value="no">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sw-apim" parent="1" style="swimlane;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" value="APIM Gateway" vertex="1">
          <mxGeometry height="150" width="1800" x="20" y="380" as="geometry" />
        </mxCell>
        <mxCell id="hl-apim" parent="sw-apim" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;dashed=1;" value="Route request to OCMS Backend" vertex="1">
          <mxGeometry height="60" width="120" x="680" y="45" as="geometry" />
        </mxCell>
        <mxCell id="sw-backend" parent="1" style="swimlane;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="OCMS Admin API Intranet" vertex="1">
          <mxGeometry height="350" width="1800" x="20" y="540" as="geometry" />
        </mxCell>
        <mxCell id="hl-recv" parent="sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="OCMS Backend receives Reduction request" vertex="1">
          <mxGeometry height="80" width="120" x="680" y="50" as="geometry" />
        </mxCell>
        <mxCell id="hl-validate" parent="sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Validate Notice for Reduction" vertex="1">
          <mxGeometry height="80" width="120" x="850" y="50" as="geometry" />
        </mxCell>
        <mxCell id="hl-d2" parent="sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" value="Validation Pass?" vertex="1">
          <mxGeometry height="100" width="100" x="1020" y="40" as="geometry" />
        </mxCell>
        <mxCell id="hl-process" parent="sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Process Reduction: Update Notice with TS-RED" vertex="1">
          <mxGeometry height="80" width="120" x="1180" y="50" as="geometry" />
        </mxCell>
        <mxCell id="hl-resp-s" parent="sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Response to PLUS: Reduction Success" vertex="1">
          <mxGeometry height="80" width="120" x="1350" y="50" as="geometry" />
        </mxCell>
        <mxCell id="hl-resp-f" parent="sw-backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Response to PLUS: Error (Paid/Not Eligible/Fail)" vertex="1">
          <mxGeometry height="80" width="120" x="1020" y="180" as="geometry" />
        </mxCell>
        <mxCell id="hl-end-s" parent="sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="End" vertex="1">
          <mxGeometry height="60" width="100" x="1520" y="60" as="geometry" />
        </mxCell>
        <mxCell id="hl-end-f" parent="sw-backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="End" vertex="1">
          <mxGeometry height="60" width="100" x="1180" y="190" as="geometry" />
        </mxCell>
        <mxCell id="hl-be1" edge="1" parent="sw-backend" source="hl-recv" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hl-validate">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-be2" edge="1" parent="sw-backend" source="hl-validate" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hl-d2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-be3" edge="1" parent="sw-backend" source="hl-d2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hl-process" value="yes">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-be4" edge="1" parent="sw-backend" source="hl-d2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hl-resp-f" value="no">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-be5" edge="1" parent="sw-backend" source="hl-process" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hl-resp-s">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-be6" edge="1" parent="sw-backend" source="hl-resp-s" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hl-end-s">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-be7" edge="1" parent="sw-backend" source="hl-resp-f" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="hl-end-f">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-cross1" edge="1" parent="1" source="hl-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" target="hl-apim" value="API Request">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-cross2" edge="1" parent="1" source="hl-apim" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" target="hl-recv">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="hl-note1" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=#6c8ebf;fillColor=#dae8fc;align=center;verticalAlign=middle;rounded=0;fontStyle=2" value="Pre-conditions are handled by PLUS System before sending request to OCMS" vertex="1">
          <mxGeometry height="40" width="250" x="180" y="290" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="plus-apply-reduction" name="PLUS_Apply_Reduction">
    <mxGraphModel dx="1158" dy="696" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="7000" pageHeight="2000" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title-2" value="OCMS 16 - PLUS Apply Reduction: Detailed Backend Flow" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;rounded=0;fontSize=18;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="40" y="20" width="500" height="30" as="geometry" />
        </mxCell>
        <mxCell id="d-sw-plus" value="PLUS System" style="swimlane;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="20" y="70" width="3940" height="410" as="geometry" />
        </mxCell>
        <mxCell id="d-start" value="Start" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="d-sw-plus" vertex="1">
          <mxGeometry x="30" y="70" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d-send" value="POST /v1/plus-apply-reduction" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="d-sw-plus" vertex="1">
          <mxGeometry x="180" y="50" width="120" height="100" as="geometry" />
        </mxCell>
        <mxCell id="d-e1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-plus" source="d-start" target="d-send" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-payload" value="POST /v1/plus-apply-reduction&lt;br&gt;{&lt;br&gt;&amp;nbsp; &quot;noticeNo&quot;: &quot;500500303J&quot;,&lt;br&gt;&amp;nbsp; &quot;amountReduced&quot;: 55.00,&lt;br&gt;&amp;nbsp; &quot;amountPayable&quot;: 15.00,&lt;br&gt;&amp;nbsp; &quot;dateOfReduction&quot;: &quot;2025-08-01T19:00:02&quot;,&lt;br&gt;&amp;nbsp; &quot;expiryDateOfReduction&quot;: &quot;2025-08-15T00:00:00&quot;,&lt;br&gt;&amp;nbsp; &quot;reasonOfReduction&quot;: &quot;RED&quot;,&lt;br&gt;&amp;nbsp; &quot;authorisedOfficer&quot;: &quot;JOHNLEE&quot;,&lt;br&gt;&amp;nbsp; &quot;suspensionSource&quot;: &quot;005&quot;,&lt;div&gt;&amp;nbsp;&amp;nbsp;&quot;remarks&quot;: &quot;Reduction granted based on appeal review&quot;&lt;br&gt;}&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" parent="d-sw-plus" vertex="1">
          <mxGeometry x="400" y="50" width="280" height="200" as="geometry" />
        </mxCell>
        <mxCell id="d-e-payload" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" parent="d-sw-plus" source="d-send" target="d-payload" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-sw-backend" value="OCMS Admin API Intranet" style="swimlane;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="20" y="510" width="3940" height="500" as="geometry" />
        </mxCell>
        <mxCell id="d-recv" value="Receive Reduction Request" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="180" y="50" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="d-d1" value="Data format correct?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="350" y="40" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="d-d2" value="Mandatory data present?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="510" y="40" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="d-query" value="Query Notice by notice_no" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="670" y="50" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="d-d3" value="Notice exists?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="850" y="40" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="d-d4" value="Already reduced (TS-RED)?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="1010" y="40" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="d-d5" value="Notice paid? (CRS=FP/PRA)" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="1170" y="40" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="d-d6" value="Rule Code eligible? (30305/31302/30302/21300)" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="1350" y="30" width="120" height="120" as="geometry" />
        </mxCell>
        <mxCell id="d-d7" value="Stage in extended list?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="1570" y="40" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="d-d8" value="Stage = RR3 or DR3?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="1360" y="260" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="d-val-amt" value="Validate Amounts and Dates" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="1822" y="50" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="d-d9" value="Valid?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="2002" y="40" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="d-begin" value="BEGIN TRANSACTION" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="2162" y="50" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="d-upd-von" value="Step 1: Update VON with TS-RED and new amount" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="2383" y="50" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="d-ins-sn" value="Step 2: Insert into ocms_suspended_notice" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="2587" y="50" width="167" height="80" as="geometry" />
        </mxCell>
        <mxCell id="d-ins-roa" value="Step 3: Insert into ocms_reduced_offence_amount" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="2848" y="50" width="177" height="80" as="geometry" />
        </mxCell>
        <mxCell id="d-upd-evon" value="Step 4: Update Internet eVON (4 fields)" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="3111" y="50" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="d-d10" value="All updates successful?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="3318" y="40" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="d-commit" value="COMMIT" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="3478" y="60" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d-resp-s" value="Response: Reduction Success" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#82b366;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="3638" y="50" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="d-end-s" value="End" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="3818" y="60" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d-err-fmt" value="Response: Invalid format" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="340" y="180" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d-err-miss" value="Response: Missing data" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="500" y="180" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d-err-nf" value="Response: Notice not found" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="840" y="180" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d-resp-idem" value="Response: Reduction Success (Idempotent)" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#82b366;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="1000" y="180" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d-err-paid" value="Response: Notice has been paid" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="1160" y="180" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d-err-elig" value="Response: Notice is not eligible" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="1560" y="370" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d-err-amt" value="Response: Invalid format" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="1992" y="180" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d-rollback" value="ROLLBACK" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="3308" y="180" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d-err-fail" value="Response: Reduction fail" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="3308" y="280" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d-end-e1" value="End" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="350" y="280" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d-end-e2" value="End" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="510" y="280" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d-end-e3" value="End" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="850" y="280" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d-end-idem" value="End" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="1010" y="280" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d-end-e4" value="End" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="1170" y="280" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d-end-e5" value="End" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="1730" y="375" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d-end-e6" value="End" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="2002" y="280" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d-end-e7" value="End" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="3318" y="380" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d-c1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-recv" target="d-d1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c2" value="yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-d1" target="d-d2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c2n" value="no" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-d1" target="d-err-fmt" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c3" value="yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-d2" target="d-query" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c3n" value="no" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-d2" target="d-err-miss" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-query" target="d-d3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c5" value="yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-d3" target="d-d4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c5n" value="no" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-d3" target="d-err-nf" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c6" value="no" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-d4" target="d-d5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c6y" value="yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-d4" target="d-resp-idem" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c7" value="no" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-d5" target="d-d6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c7y" value="yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-d5" target="d-err-paid" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c8" value="yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-d6" target="d-d7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c8n" value="no" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-d6" target="d-d8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c9" value="yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-d7" target="d-val-amt" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c9n" value="no" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-d7" target="d-err-elig" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c10" value="yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" parent="d-sw-backend" source="d-d8" target="d-val-amt" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1880" y="310" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="d-c10n" value="no" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.008;entryY=0.617;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="d-sw-backend" source="d-d8" target="d-err-elig" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-val-amt" target="d-d9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c12" value="yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-d9" target="d-begin" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c12n" value="no" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-d9" target="d-err-amt" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-begin" target="d-upd-von" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-upd-von" target="d-ins-sn" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-ins-sn" target="d-ins-roa" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-ins-roa" target="d-upd-evon" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-upd-evon" target="d-d10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c18" value="yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-d10" target="d-commit" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c18n" value="no" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-d10" target="d-rollback" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-commit" target="d-resp-s" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-resp-s" target="d-end-s" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-c21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-rollback" target="d-err-fail" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-ce1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-err-fmt" target="d-end-e1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-ce2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-err-miss" target="d-end-e2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-ce3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-err-nf" target="d-end-e3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-ce4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-resp-idem" target="d-end-idem" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-ce5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-err-paid" target="d-end-e4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-ce6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-err-elig" target="d-end-e5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-ce7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-err-amt" target="d-end-e6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-ce8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="d-sw-backend" source="d-err-fail" target="d-end-e7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-note-special" value="Special Case:&lt;br&gt;Non-eligible codes can reduce at RR3/DR3 only" style="text;html=1;whiteSpace=wrap;strokeColor=#6c8ebf;fillColor=#dae8fc;align=center;verticalAlign=middle;rounded=0;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="1250" y="350" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d-note-stages" value="Extended Stage List:&lt;br&gt;NPA, ROV, ENA, RD1, RD2, RR3, DN1, DN2, DR3" style="text;html=1;whiteSpace=wrap;strokeColor=#6c8ebf;fillColor=#dae8fc;align=center;verticalAlign=middle;rounded=0;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="1640" y="130" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d-note-codes" value="Eligible Computer Rule Codes:&lt;br&gt;30305, 31302, 30302, 21300" style="text;html=1;whiteSpace=wrap;strokeColor=#6c8ebf;fillColor=#dae8fc;align=center;verticalAlign=middle;rounded=0;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="1430" y="150" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="d-db-query" value="SELECT FROM ocms_valid_offence_notice WHERE notice_no = ?" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="650" y="390" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="d-db-c1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" parent="d-sw-backend" source="d-query" target="d-db-query" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-db-upd" value="UPDATE ocms_valid_offence_notice SET suspension_type=&#39;TS&#39;, epr_reason_of_suspension=&#39;RED&#39;, amount_payable=?, ..." style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="2350" y="270" width="187" height="90" as="geometry" />
        </mxCell>
        <mxCell id="d-db-c2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" parent="d-sw-backend" source="d-upd-von" target="d-db-upd" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-db-sn" value="INSERT INTO ocms_suspended_notice (&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;notice_no,&lt;/span&gt;&lt;div&gt;&lt;div&gt;date_of_suspension,&lt;/div&gt;&lt;div&gt;sr_no,&lt;/div&gt;&lt;div&gt;suspension_source,&lt;/div&gt;&lt;div&gt;suspension_type,&lt;/div&gt;&lt;div&gt;reason_of_suspension&lt;/div&gt;&lt;/div&gt;&lt;div&gt;suspension_remark,&lt;/div&gt;&lt;div&gt;officer_authorising_suspension,&lt;/div&gt;&lt;div&gt;due_date_of_revival&lt;/div&gt;)" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="2579.5" y="267.5" width="182" height="185" as="geometry" />
        </mxCell>
        <mxCell id="d-db-c3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" parent="d-sw-backend" source="d-ins-sn" target="d-db-sn" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-idb-upd" value="UPDATE eocms_valid_offence_notice SET suspension_type=&#39;TS&#39;, epr_reason_of_suspension=&#39;RED&#39;, epr_date_of_suspension=?, amount_payable=?" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="3076" y="268" width="190" height="90" as="geometry" />
        </mxCell>
        <mxCell id="d-db-c5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="d-sw-backend" source="d-upd-evon" edge="1" target="d-idb-upd">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="3171" y="280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="d-db-roa" value="INSERT INTO ocms_reduced_offence_amount&amp;nbsp;&lt;div&gt;&lt;div&gt;(notice_no&lt;/div&gt;&lt;div&gt;date_of_reduction&lt;/div&gt;&lt;div&gt;sr_no&lt;/div&gt;&lt;div&gt;amount_reduced&lt;/div&gt;&lt;div&gt;reason_of_reduction&lt;/div&gt;&lt;div&gt;expiry_date&lt;/div&gt;&lt;div&gt;authorised_officer&lt;/div&gt;&lt;div&gt;remarks&lt;/div&gt;&lt;div&gt;amount_payable)&lt;/div&gt;&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" parent="d-sw-backend" vertex="1">
          <mxGeometry x="2848" y="268" width="180" height="170" as="geometry" />
        </mxCell>
        <mxCell id="d-db-c4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" parent="d-sw-backend" source="d-ins-roa" target="d-db-roa" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d-cross1" value="API Request" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" parent="1" source="d-send" target="d-recv" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
