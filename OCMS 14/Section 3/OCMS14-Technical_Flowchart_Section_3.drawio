<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36" version="29.3.3" pages="4">
  <diagram id="Section3_High_Level" name="Section_3_High_Level">
    <mxGraphModel dx="1426" dy="897" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="4000" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title1" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;rounded=0;" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Section 3: High Level - Notice Processing Flow for Deceased Offenders&lt;/font&gt;&lt;/b&gt;" vertex="1">
          <mxGeometry height="30" width="600" x="20" y="10" as="geometry" />
        </mxCell>
        <mxCell id="container1" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#666666;" value="" vertex="1">
          <mxGeometry height="400" width="1600" x="40" y="60" as="geometry" />
        </mxCell>
        <mxCell id="containerTitle" parent="1" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;High Level Processing Flow for Notices with Deceased Offenders&lt;/font&gt;&lt;/b&gt;" vertex="1">
          <mxGeometry height="30" width="1600" x="40" y="70" as="geometry" />
        </mxCell>
        <mxCell id="trigger1" parent="1" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;strokeWidth=1;" value="MHA returns NRIC Offender Life Status as &quot;D&quot; (Deceased)" vertex="1">
          <mxGeometry height="80" width="140" x="80" y="140" as="geometry" />
        </mxCell>
        <mxCell id="trigger2" parent="1" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;strokeWidth=1;" value="FIN holder found in DataHive&#39;s &quot;Dead Foreign Pass Holders&quot; dataset (D90)" vertex="1">
          <mxGeometry height="80" width="140" x="80" y="280" as="geometry" />
        </mxCell>
        <mxCell id="edge1" edge="1" parent="1" source="trigger1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" target="update1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge2" edge="1" parent="1" source="trigger2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" target="update1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="update1" parent="1" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Update Offender Particulars&lt;br&gt;(life_status, date_of_death)" vertex="1">
          <mxGeometry height="80" width="140" x="320" y="200" as="geometry" />
        </mxCell>
        <mxCell id="edge3" edge="1" parent="1" source="update1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="process1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="process1" parent="1" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;strokeWidth=2;" value="Process:&lt;br&gt;Check Date of Death and suspend with PS-RIP or PS-RP2" vertex="1">
          <mxGeometry height="90" width="180" x="560" y="195" as="geometry" />
        </mxCell>
        <mxCell id="edge4" edge="1" parent="1" source="process1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="report1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="report1" parent="1" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Generate &quot;RIP Hirer Driver Furnished&quot; report for eligible RP2 Notices" vertex="1">
          <mxGeometry height="80" width="160" x="840" y="200" as="geometry" />
        </mxCell>
        <mxCell id="edge5" edge="1" parent="1" source="report1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="redirect1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="redirect1" parent="1" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;strokeWidth=2;" value="Process:&lt;br&gt;OIC redirect RIP/RP2 Notices (if needed)" vertex="1">
          <mxGeometry height="90" width="180" x="1100" y="195" as="geometry" />
        </mxCell>
        <mxCell id="edge6" edge="1" parent="1" source="redirect1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="end1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="end1" parent="1" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="End" vertex="1">
          <mxGeometry height="60" width="100" x="1380" y="210" as="geometry" />
        </mxCell>
        <mxCell id="note1" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;fontStyle=2" value="&lt;i&gt;Refer to OCMS 8 - Section 3.2.2 for MHA output processing&lt;/i&gt;" vertex="1">
          <mxGeometry height="40" width="180" x="60" y="370" as="geometry" />
        </mxCell>
        <mxCell id="note2" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;fontStyle=2" value="&lt;i&gt;Refer to OCMS 8 - Section 7.5 for DataHive FIN processing&lt;/i&gt;" vertex="1">
          <mxGeometry height="40" width="180" x="60" y="400" as="geometry" />
        </mxCell>
        <mxCell id="legend1" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=middle;rounded=0;" value="&lt;b&gt;Suspension Codes:&lt;/b&gt;&lt;br&gt;PS-RIP: Death On/After Offence Date&lt;br&gt;PS-RP2: Death Before Offence Date" vertex="1">
          <mxGeometry height="70" width="220" x="1380" y="320" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="Section3_Detect_Suspend" name="Section_3_Detect_and_Suspend">
    <mxGraphModel dx="1426" dy="897" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="5000" pageHeight="2000" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title2" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;rounded=0;" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Section 3.2: Detect Deceased and Apply PS-RIP/RP2 Suspension&lt;/font&gt;&lt;/b&gt;" vertex="1">
          <mxGeometry height="30" width="600" x="20" y="10" as="geometry" />
        </mxCell>
        <mxCell id="swim_ext" parent="1" style="swimlane;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" value="External System (MHA / DataHive)" vertex="1">
          <mxGeometry height="280" width="2340" x="20" y="60" as="geometry" />
        </mxCell>
        <mxCell id="start2" parent="swim_ext" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="Start" vertex="1">
          <mxGeometry height="60" width="100" x="40" y="100" as="geometry" />
        </mxCell>
        <mxCell id="receive1" parent="swim_ext" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Receive life_status from MHA/DataHive response" vertex="1">
          <mxGeometry height="80" width="140" x="220" y="90" as="geometry" />
        </mxCell>
        <mxCell id="edge_s2r" edge="1" parent="swim_ext" source="start2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="receive1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dec_life" parent="swim_ext" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" value="life_status = &#39;D&#39;?" vertex="1">
          <mxGeometry height="100" width="120" x="450" y="80" as="geometry" />
        </mxCell>
        <mxCell id="edge_r2d" edge="1" parent="swim_ext" source="receive1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="dec_life">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="normal1" parent="swim_ext" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Continue Normal Processing" vertex="1">
          <mxGeometry height="60" width="140" x="660" y="100" as="geometry" />
        </mxCell>
        <mxCell id="edge_d2n" edge="1" parent="swim_ext" source="dec_life" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="normal1" value="no">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="end_normal" parent="swim_ext" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="End" vertex="1">
          <mxGeometry height="50" width="80" x="930" y="105" as="geometry" />
        </mxCell>
        <mxCell id="edge_n2e" edge="1" parent="swim_ext" source="normal1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="end_normal">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ext_note" parent="swim_ext" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;rounded=0;" value="&lt;b&gt;Data Source:&lt;/b&gt;&lt;br&gt;MHA: SFTP file exchange (NRIC)&lt;br&gt;DataHive: V_DH_MHA_FINDEATH (FIN D90)&lt;br&gt;&lt;br&gt;&lt;i&gt;Note: Retry logic handled by MHA/DataHive integration layer&lt;/i&gt;" vertex="1">
          <mxGeometry height="100" width="280" x="1070" y="60" as="geometry" />
        </mxCell>
        <mxCell id="swim_backend" parent="1" style="swimlane;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="OCMS Admin API Intranet (Backend)" vertex="1">
          <mxGeometry height="500" width="2340" x="20" y="360" as="geometry" />
        </mxCell>
        <mxCell id="upd_offender" parent="swim_backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Update Offender Particulars&lt;br&gt;life_status = &#39;D&#39;&lt;br&gt;date_of_death = &lt;value&gt;" vertex="1">
          <mxGeometry height="80" width="160" x="200" y="145" as="geometry" />
        </mxCell>
        <mxCell id="dec_dod" parent="swim_backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" value="date_of_death &gt;= offence_date?" vertex="1">
          <mxGeometry height="110" width="140" x="440" y="130" as="geometry" />
        </mxCell>
        <mxCell id="edge_u2d" edge="1" parent="swim_backend" source="upd_offender" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="dec_dod">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="apply_rip" parent="swim_backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Apply PS-RIP&lt;br&gt;(Motorist Deceased On/After Offence Date)" vertex="1">
          <mxGeometry height="70" width="160" x="670" y="80" as="geometry" />
        </mxCell>
        <mxCell id="edge_d2rip" edge="1" parent="swim_backend" source="dec_dod" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="apply_rip" value="yes">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="apply_rp2" parent="swim_backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Apply PS-RP2&lt;br&gt;(Motorist Deceased Before Offence Date)" vertex="1">
          <mxGeometry height="70" width="160" x="670" y="275" as="geometry" />
        </mxCell>
        <mxCell id="edge_d2rp2" edge="1" parent="swim_backend" source="dec_dod" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="apply_rp2" value="no">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="call_ps" parent="swim_backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Call PermanentSuspensionHelper.processPS()" vertex="1">
          <mxGeometry height="70" width="180" x="1140" y="180" as="geometry" />
        </mxCell>
        <mxCell id="edge_rip2ps" edge="1" parent="swim_backend" source="apply_rip" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="call_ps">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="900" y="115" />
              <mxPoint x="900" y="215" />
            </Array>
            <mxPoint x="830" y="170" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="edge_rp22ps" edge="1" parent="swim_backend" source="apply_rp2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="call_ps">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="900" y="310" />
              <mxPoint x="900" y="215" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="api_req_box" parent="swim_backend" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;rounded=0;" value="&lt;b&gt;API Request (processPS):&lt;/b&gt;&lt;br&gt;{&lt;br&gt;  &quot;noticeNo&quot;: &quot;A12345678X&quot;,&lt;br&gt;  &quot;suspensionSource&quot;: &quot;CRON&quot;,&lt;br&gt;  &quot;reasonOfSuspension&quot;: &quot;RIP&quot; or &quot;RP2&quot;,&lt;br&gt;  &quot;officerAuthorisingSuspension&quot;: &quot;SYSTEM&quot;&lt;br&gt;}" vertex="1">
          <mxGeometry height="130" width="220" x="1110" y="35" as="geometry" />
        </mxCell>
        <mxCell id="dec_success" parent="swim_backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" value="appCode = 0?" vertex="1">
          <mxGeometry height="100" width="100" x="1674" y="165" as="geometry" />
        </mxCell>
        <mxCell id="edge_ps2dec" edge="1" parent="swim_backend" source="call_ps" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="dec_success">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="success_end" parent="swim_backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="End&lt;br&gt;(PS Applied)" vertex="1">
          <mxGeometry height="60" width="100" x="1900" y="180" as="geometry" />
        </mxCell>
        <mxCell id="edge_dec2end" edge="1" parent="swim_backend" source="dec_success" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="success_end" value="yes">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="error_handle" parent="swim_backend" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#f8cecc;strokeColor=#b85450;" value="Log Error and Continue" vertex="1">
          <mxGeometry height="60" width="130" x="1659" y="345" as="geometry" />
        </mxCell>
        <mxCell id="edge_dec2err" edge="1" parent="swim_backend" source="dec_success" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#b85450;" target="error_handle" value="no">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="error_end" parent="swim_backend" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;fillColor=#f8cecc;strokeColor=#b85450;" value="End&lt;br&gt;(Error Logged)" vertex="1">
          <mxGeometry height="60" width="100" x="1870" y="345" as="geometry" />
        </mxCell>
        <mxCell id="edge_err2end" edge="1" parent="swim_backend" source="error_handle" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#b85450;" target="error_end">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="api_resp_success" parent="swim_backend" style="text;html=1;whiteSpace=wrap;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;rounded=0;" value="&lt;b&gt;API Response (Success):&lt;/b&gt;&lt;br&gt;{&lt;br&gt;  &quot;data&quot;: {&lt;br&gt;    &quot;appCode&quot;: &quot;OCMS-2000&quot;,&lt;br&gt;    &quot;message&quot;: &quot;PS applied successfully&quot;&lt;br&gt;  },&lt;br&gt;  &quot;noticeNo&quot;: &quot;A12345678X&quot;&lt;br&gt;}" vertex="1">
          <mxGeometry height="110" width="200" x="2040" y="60" as="geometry" />
        </mxCell>
        <mxCell id="api_resp_error" parent="swim_backend" style="text;html=1;whiteSpace=wrap;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;rounded=0;" value="&lt;b&gt;API Response (Error):&lt;/b&gt;&lt;br&gt;{&lt;br&gt;  &quot;data&quot;: {&lt;br&gt;    &quot;appCode&quot;: &quot;OCMS-4001&quot;,&lt;br&gt;    &quot;message&quot;: &quot;Invalid Notice Number&quot;&lt;br&gt;  }&lt;br&gt;}&lt;br&gt;&lt;br&gt;&lt;b&gt;Error Codes:&lt;/b&gt;&lt;br&gt;OCMS-2001: Notice already PS&lt;br&gt;OCMS-4000: Source missing&lt;br&gt;OCMS-4001: Invalid Notice Number&lt;br&gt;OCMS-4002: Stage not allowed&lt;br&gt;OCMS-4003: Paid notice - cannot apply&lt;br&gt;OCMS-4005: No active PS found&lt;br&gt;OCMS-4007: System error&lt;br&gt;OCMS-4008: Cannot apply FP/PRA" vertex="1">
          <mxGeometry height="230" width="250" x="2040" y="280" as="geometry" />
        </mxCell>
        <mxCell id="db1" parent="swim_backend" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" value="&lt;b&gt;UPDATE&lt;/b&gt;&lt;br&gt;ocms_offence_notice_owner_driver&lt;br&gt;SET life_status = &#39;D&#39;,&lt;br&gt;    date_of_death = &lt;value&gt;,&lt;br&gt;    upd_date = CURRENT_TIMESTAMP,&lt;br&gt;    upd_user_id = &#39;ocmsiz_app_conn&#39;" vertex="1">
          <mxGeometry height="100" width="240" x="160" y="310" as="geometry" />
        </mxCell>
        <mxCell id="edge_db1" edge="1" parent="swim_backend" source="upd_offender" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" target="db1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="db2" parent="swim_backend" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" value="&lt;b&gt;UPDATE&lt;/b&gt;&lt;br&gt;ocms_valid_offence_notice&lt;br&gt;SET suspension_type = &#39;PS&#39;,&lt;br&gt;    epr_reason_of_suspension = &#39;RIP&#39;/&#39;RP2&#39;,&lt;br&gt;    upd_date = CURRENT_TIMESTAMP,&lt;br&gt;    upd_user_id = &#39;ocmsiz_app_conn&#39;" vertex="1">
          <mxGeometry height="110" width="260" x="920" y="350" as="geometry" />
        </mxCell>
        <mxCell id="edge_db2" edge="1" parent="swim_backend" source="call_ps" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" target="db2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="db3" parent="swim_backend" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" value="&lt;b&gt;INSERT&lt;/b&gt;&lt;br&gt;ocms_suspended_notice&lt;br&gt;(notice_no, suspension_type=&#39;PS&#39;,&lt;br&gt;reason_of_suspension=&#39;RIP&#39;/&#39;RP2&#39;,&lt;br&gt;date_of_suspension=CURRENT_TIMESTAMP,&lt;br&gt;due_date_of_revival=NULL,&lt;br&gt;officer_authorising_suspension=&#39;SYSTEM&#39;,&lt;br&gt;cre_user_id=&#39;ocmsiz_app_conn&#39;)" vertex="1">
          <mxGeometry height="140" width="280" x="1280" y="350" as="geometry" />
        </mxCell>
        <mxCell id="edge_db3" edge="1" parent="swim_backend" source="call_ps" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" target="db3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge_d2u" edge="1" parent="1" source="dec_life" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" target="upd_offender" value="yes">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="530" y="310" />
              <mxPoint x="300" y="310" />
            </Array>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="Section3_RIP_Report" name="Section_3_RIP_Report">
    <mxGraphModel dx="1426" dy="897" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="4500" pageHeight="1800" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title3" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;rounded=0;" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Section 3.3: Generate RIP Hirer Driver Furnished Report&lt;/font&gt;&lt;/b&gt;" vertex="1">
          <mxGeometry height="30" width="500" x="20" y="10" as="geometry" />
        </mxCell>
        <mxCell id="swim_cron" parent="1" style="swimlane;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="OCMS Admin Cron (Backend)" vertex="1">
          <mxGeometry height="650" width="2060" x="20" y="60" as="geometry" />
        </mxCell>
        <mxCell id="cron_start" parent="swim_cron" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="Cron Start&lt;br&gt;(Daily)" vertex="1">
          <mxGeometry height="60" width="100" x="40" y="100" as="geometry" />
        </mxCell>
        <mxCell id="shedlock_box" parent="swim_cron" style="text;html=1;whiteSpace=wrap;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;rounded=0;" value="&lt;b&gt;Shedlock Job Configuration:&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Name:&lt;/b&gt; generate_rip_hirer_driver_report&lt;br&gt;&lt;b&gt;Pattern:&lt;/b&gt; [action]_[subject]_[suffix]&lt;br&gt;&lt;b&gt;Schedule:&lt;/b&gt; Daily 02:00 AM&lt;br&gt;&lt;b&gt;Cron:&lt;/b&gt; 0 0 2 * * ?&lt;br&gt;&lt;b&gt;Lock At Least:&lt;/b&gt; 1 minute&lt;br&gt;&lt;b&gt;Lock At Most:&lt;/b&gt; 15 minutes&lt;div&gt;&lt;br/&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="140" width="240" x="30" y="180" as="geometry" />
        </mxCell>
        <mxCell id="query1" parent="swim_cron" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Query for notices with PS-RP2 today + deceased Hirer/Driver" vertex="1">
          <mxGeometry height="80" width="160" x="340" y="90" as="geometry" />
        </mxCell>
        <mxCell id="edge_c2q" edge="1" parent="swim_cron" source="cron_start" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="query1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dec_rec" parent="swim_cron" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" value="Any records?" vertex="1">
          <mxGeometry height="90" width="100" x="640" y="85" as="geometry" />
        </mxCell>
        <mxCell id="edge_q2d" edge="1" parent="swim_cron" source="query1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="dec_rec">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="end_no" parent="swim_cron" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="End&lt;br&gt;(No Report)" vertex="1">
          <mxGeometry height="60" width="100" x="640" y="240" as="geometry" />
        </mxCell>
        <mxCell id="edge_d2no" edge="1" parent="swim_cron" source="dec_rec" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="end_no" value="no">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="format1" parent="swim_cron" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Format Data for Report" vertex="1">
          <mxGeometry height="60" width="140" x="870" y="100" as="geometry" />
        </mxCell>
        <mxCell id="edge_d2f" edge="1" parent="swim_cron" source="dec_rec" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="format1" value="yes">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gen_report" parent="swim_cron" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Generate Report File&lt;br&gt;(.xlsx)" vertex="1">
          <mxGeometry height="60" width="140" x="1140" y="100" as="geometry" />
        </mxCell>
        <mxCell id="edge_f2g" edge="1" parent="swim_cron" source="format1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="gen_report">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dec_gen" parent="swim_cron" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" value="Generated OK?" vertex="1">
          <mxGeometry height="90" width="100" x="1390" y="85" as="geometry" />
        </mxCell>
        <mxCell id="edge_g2dec" edge="1" parent="swim_cron" source="gen_report" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="dec_gen">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="send_email" parent="swim_cron" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Send Email to OICs" vertex="1">
          <mxGeometry height="60" width="140" x="1640" y="100" as="geometry" />
        </mxCell>
        <mxCell id="edge_dec2send" edge="1" parent="swim_cron" source="dec_gen" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="send_email" value="yes">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="end3" parent="swim_cron" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="End" vertex="1">
          <mxGeometry height="60" width="100" x="1870" y="100" as="geometry" />
        </mxCell>
        <mxCell id="edge_s2e" edge="1" parent="swim_cron" source="send_email" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="end3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="log_error" parent="swim_cron" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#f8cecc;strokeColor=#b85450;" value="Log Error" vertex="1">
          <mxGeometry height="50" width="100" x="1390" y="265" as="geometry" />
        </mxCell>
        <mxCell id="edge_dec2err" edge="1" parent="swim_cron" source="dec_gen" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#b85450;" target="log_error" value="no">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="end_err" parent="swim_cron" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;fillColor=#f8cecc;strokeColor=#b85450;" value="End&lt;br&gt;(Error)" vertex="1">
          <mxGeometry height="60" width="80" x="1400" y="350" as="geometry" />
        </mxCell>
        <mxCell id="edge_err2end" edge="1" parent="swim_cron" source="log_error" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#b85450;" target="end_err">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="report_note" parent="swim_cron" style="text;html=1;whiteSpace=wrap;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;rounded=0;" value="&lt;b&gt;Report Columns (13):&lt;/b&gt;&lt;br&gt;1. S/N (Generated)&lt;br&gt;2. Notice No&lt;br&gt;3. Vehicle No&lt;br&gt;4. Offender Name&lt;br&gt;5. ID Type&lt;br&gt;6. ID No&lt;br&gt;7. Owner/Driver/Hirer&lt;br&gt;8. Suspension Date&lt;br&gt;9. Notice Date&lt;br&gt;10. Offence Rule Code&lt;br&gt;11. Place of Offence&lt;br&gt;12. Composition Amount&lt;br&gt;13. Amount Payable&lt;br&gt;&lt;br&gt;&lt;b&gt;Source:&lt;/b&gt; OCMS Intranet DB&lt;br&gt;&lt;i&gt;Note: Date of Death not in code (pending BA)&lt;/i&gt;" vertex="1">
          <mxGeometry height="280" width="220" x="830" y="190" as="geometry" />
        </mxCell>
        <mxCell id="query_box" parent="swim_cron" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;rounded=0;" value="&lt;b&gt;Query DB (Specific Fields):&lt;/b&gt;&lt;br&gt;&lt;br&gt;SELECT&lt;br&gt;  von.notice_no,&lt;br&gt;  ond.name AS offender_name,&lt;br&gt;  ond.id_no AS offender_id,&lt;br&gt;  ond.owner_driver_indicator,&lt;br&gt;  ond.life_status,&lt;br&gt;  ond.date_of_death,&lt;br&gt;  von.notice_date_and_time AS offence_date,&lt;br&gt;  sn.date_of_suspension&lt;br&gt;FROM ocms_suspended_notice sn&lt;br&gt;JOIN ocms_valid_offence_notice von&lt;br&gt;  ON sn.notice_no = von.notice_no&lt;br&gt;JOIN ocms_offence_notice_owner_driver ond&lt;br&gt;  ON von.notice_no = ond.notice_no&lt;br&gt;WHERE sn.suspension_type = &#39;PS&#39;&lt;br&gt;  AND sn.reason_of_suspension = &#39;RP2&#39;&lt;br&gt;  AND CAST(sn.date_of_suspension AS DATE) = CAST(GETDATE() AS DATE)&lt;br&gt;  AND sn.due_date_of_revival IS NULL&lt;br&gt;  AND ond.owner_driver_indicator IN (&#39;H&#39;, &#39;D&#39;)&lt;br&gt;  AND ond.offender_indicator = &#39;Y&#39;&lt;br&gt;  AND ond.life_status = &#39;D&#39;" vertex="1">
          <mxGeometry height="350" width="360" x="240" y="265" as="geometry" />
        </mxCell>
        <mxCell id="edge_q2qb" edge="1" parent="swim_cron" source="query1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" target="query_box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="Section3_Redirect" name="Section_3_Redirect_RIP">
    <mxGraphModel dx="1426" dy="897" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="5000" pageHeight="1600" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title4" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;rounded=0;" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Section 3.4: Redirect PS-RIP/RP2 Notices&lt;/font&gt;&lt;/b&gt;" vertex="1">
          <mxGeometry height="30" width="400" x="20" y="10" as="geometry" />
        </mxCell>
        <mxCell id="container4" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#666666;" value="" vertex="1">
          <mxGeometry height="550" width="2580" x="20" y="50" as="geometry" />
        </mxCell>
        <mxCell id="swim_staff" parent="1" style="swimlane;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="OCMS Staff Portal" vertex="1">
          <mxGeometry height="240" width="700" x="40" y="70" as="geometry" />
        </mxCell>
        <mxCell id="start4" parent="swim_staff" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="Start" vertex="1">
          <mxGeometry height="50" width="80" x="30" y="160" as="geometry" />
        </mxCell>
        <mxCell id="oic_revive" parent="swim_staff" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="OIC revives PS-RIP or PS-RP2 from Staff Portal" vertex="1">
          <mxGeometry height="70" width="150" x="170" y="150" as="geometry" />
        </mxCell>
        <mxCell id="edge_s2o" edge="1" parent="swim_staff" source="start4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="oic_revive">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oic_update" parent="swim_staff" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="OIC updates Owner/Hirer/Driver particulars" vertex="1">
          <mxGeometry height="70" width="150" x="170" y="55" as="geometry" />
        </mxCell>
        <mxCell id="edge_o2u" edge="1" parent="swim_staff" source="oic_revive" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="oic_update">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="swim_back4" parent="1" style="swimlane;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="OCMS Admin API Intranet (Backend)" vertex="1">
          <mxGeometry height="500" width="1450" x="760" y="70" as="geometry" />
        </mxCell>
        <mxCell id="upd_susp" parent="swim_back4" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Update Suspension&lt;br&gt;date_of_revival = NOW()&lt;br&gt;revival_reason" vertex="1">
          <mxGeometry height="70" width="150" x="75" y="70" as="geometry" />
        </mxCell>
        <mxCell id="upd_off4" parent="swim_back4" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Update Offender Data in DB" vertex="1">
          <mxGeometry height="60" width="130" x="650" y="75" as="geometry" />
        </mxCell>
        <mxCell id="edge_u2off" edge="1" parent="swim_back4" source="upd_susp" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="upd_off4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="redirect4" parent="swim_back4" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Redirect Notice to new Offender&lt;br&gt;(Stage: RD1 or DN1)" vertex="1">
          <mxGeometry height="70" width="160" x="980" y="70" as="geometry" />
        </mxCell>
        <mxCell id="edge_off2r" edge="1" parent="swim_back4" source="upd_off4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="redirect4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="continue4" parent="swim_back4" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" value="Notice continues standard processing flow" vertex="1">
          <mxGeometry height="60" width="130" x="1230" y="75" as="geometry" />
        </mxCell>
        <mxCell id="edge_r2c" edge="1" parent="swim_back4" source="redirect4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="continue4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="db4_4" parent="swim_back4" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" value="&lt;b&gt;UPDATE&lt;/b&gt;&lt;br&gt;ocms_offence_notice_owner_driver_addr&lt;br&gt;SET (new offender address),&lt;br&gt;    upd_date = CURRENT_TIMESTAMP,&lt;br&gt;    upd_user_id = &#39;ocmsiz_app_conn&#39;" vertex="1">
          <mxGeometry height="100" width="270" x="720" y="190" as="geometry" />
        </mxCell>
        <mxCell id="edge_db4_4" edge="1" parent="swim_back4" source="upd_off4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" target="db4_4">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="715" y="170" />
              <mxPoint x="855" y="170" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="edge_staff2back" edge="1" parent="1" source="oic_revive" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="upd_susp">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge_staff2off" edge="1" parent="1" source="oic_update" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" target="upd_off4">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="285" y="110" />
              <mxPoint x="1275" y="110" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="end4" parent="1" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" value="End" vertex="1">
          <mxGeometry height="50" width="80" x="2230" y="150" as="geometry" />
        </mxCell>
        <mxCell id="edge_c2e" edge="1" parent="1" source="continue4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="end4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="api_resp_revive" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;rounded=0;" value="&lt;b&gt;API Response (Revival):&lt;/b&gt;&lt;br&gt;{&lt;br&gt;  &quot;data&quot;: {&lt;br&gt;    &quot;appCode&quot;: &quot;OCMS-2000&quot;,&lt;br&gt;    &quot;message&quot;: &quot;PS Revival successful&quot;&lt;br&gt;  },&lt;br&gt;  &quot;noticeNo&quot;: &quot;A12345678X&quot;&lt;br&gt;}" vertex="1">
          <mxGeometry height="110" width="240" x="2340" y="70" as="geometry" />
        </mxCell>
        <mxCell id="edge_db4_1" edge="1" parent="1" source="upd_susp" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" target="db4_1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge_db4_2" edge="1" parent="1" source="upd_susp" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" target="db4_2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1095" y="190" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="edge_db4_3" edge="1" parent="1" source="upd_off4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="db4_3">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1475" y="240" />
              <mxPoint x="1335" y="240" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="edge_db4_5" edge="1" parent="1" source="redirect4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" target="db4_5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="note4" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;rounded=0;" value="&lt;b&gt;Redirect Scenarios:&lt;/b&gt;&lt;br&gt;1. Wrongly Furnished RIP → Redirect to Owner&lt;br&gt;2. NOK Furnishes Hirer → Redirect to Hirer&lt;br&gt;3. NOK Furnishes Driver → Redirect to Driver" vertex="1">
          <mxGeometry height="100" width="280" x="40" y="350" as="geometry" />
        </mxCell>
        <mxCell id="audit_note4" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;rounded=0;" value="&lt;b&gt;Audit User:&lt;/b&gt;&lt;br&gt;All updates use upd_user_id = &#39;ocmsiz_app_conn&#39;&lt;br&gt;Officer ID captured in officer_authorising_revival" vertex="1">
          <mxGeometry height="80" width="300" x="350" y="360" as="geometry" />
        </mxCell>
        <mxCell id="db4_2" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" value="&lt;b&gt;UPDATE&lt;/b&gt; ocms_valid_offence_notice&lt;br&gt;SET suspension_type = NULL,&lt;br&gt;    epr_reason_of_suspension = NULL,&lt;br&gt;    upd_date = CURRENT_TIMESTAMP,&lt;br&gt;    upd_user_id = &#39;ocmsiz_app_conn&#39;" vertex="1">
          <mxGeometry height="100" width="270" x="960" y="410" as="geometry" />
        </mxCell>
        <mxCell id="db4_3" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" value="&lt;b&gt;UPDATE&lt;/b&gt;&lt;br&gt;ocms_offence_notice_owner_driver&lt;br&gt;SET (new offender details),&lt;br&gt;    offender_indicator = &#39;Y&#39;,&lt;br&gt;    upd_date = CURRENT_TIMESTAMP,&lt;br&gt;    upd_user_id = &#39;ocmsiz_app_conn&#39;" vertex="1">
          <mxGeometry height="110" width="250" x="1210" y="260" as="geometry" />
        </mxCell>
        <mxCell id="db4_1" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" value="&lt;b&gt;UPDATE&lt;/b&gt; ocms_suspended_notice&lt;br&gt;SET date_of_revival = CURRENT_TIMESTAMP,&lt;br&gt;    revival_reason = &lt;reason&gt;,&lt;br&gt;    officer_authorising_revival = &lt;oic_id&gt;,&lt;br&gt;    upd_date = CURRENT_TIMESTAMP,&lt;br&gt;    upd_user_id = &#39;ocmsiz_app_conn&#39;" vertex="1">
          <mxGeometry height="110" width="280" x="770" y="250" as="geometry" />
        </mxCell>
        <mxCell id="db4_5" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;rounded=0;" value="&lt;b&gt;UPDATE&lt;/b&gt; ocms_valid_offence_notice&lt;br&gt;SET last_processing_stage = &#39;RD1&#39;/&#39;DN1&#39;,&lt;br&gt;    upd_date = CURRENT_TIMESTAMP,&lt;br&gt;    upd_user_id = &#39;ocmsiz_app_conn&#39;&lt;br&gt;&lt;br&gt;&lt;b&gt;Note:&lt;/b&gt; Current offender tracked via&lt;br&gt;ocms_offence_notice_owner_driver.offender_indicator = &#39;Y&#39;" vertex="1">
          <mxGeometry height="100" width="280" x="1680" y="400" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
